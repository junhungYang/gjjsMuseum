{"version":3,"sources":["webpack:///./src/js/ajax.js","webpack:///./src/js/statusCode.js","webpack:///./src/App.vue?3693","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/js/appJuc.js","webpack:///./src/js/html2canvas.js","webpack:///./src/main.js","webpack:///./src/js/utils.js","webpack:///./src/js/wechat.js","webpack:///./src/js/sendRequest.js","webpack:///./src/js/rem.js","webpack:///./src/store/store.js","webpack:///./src/store/mutations.js"],"names":["ajax","json","conf","successCallback","errorCallback","axios","then","res","code","data","promise_default","a","resolve","reject","status","error","message","this","handler","sendRequest","url","method","params","transformRequest","qs","stringify","success","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","index","r","require","bind","catch","oe","enlistRecord","login","shortcut","scan","addInfo","Vue","use","Router","router","routes","path","component","meta","requiresLogin","beforeEach","to","from","next","isLogin","window","sessionStorage","getItem","isAndroid","test","navigator","userAgent","document","undefined","computedCSS","isNative","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","fontData","_html2canvas","toPX","element","attribute","value","left","rsLeft","runtimeStyle","style","currentStyle","pixelLeft","Math","round","parseFloat","asInt","val","parseInt","backgroundBoundsFactory","prop","el","bounds","image","imageIndex","backgroundSize","topPos","percentage","bgposition","Util","getCSS","length","toString","indexOf","width","resized","resizeBounds","height","log","logging","console","trimText","String","prototype","trim","input","apply","replace","asFloat","v","parseTextShadows","shadows","match","results","i","s","push","color","offsetX","offsetY","blur","parseBackgroundImage","definition","prefix","prefix_i","block","c","quote","args","mode","numParen","appendResult","substr","toLowerCase","ii","Bounds","clientRect","getBoundingClientRect","top","bottom","offsetWidth","offsetHeight","OffsetBounds","parent","offsetParent","offsetTop","offsetLeft","previousElement","defaultView","getComputedStyle","split","parseBackgroundSizePosition","arr","map","current_width","current_height","target_width","target_height","stretch_mode","output_width","output_height","current_ratio","BackgroundPosition","result","BackgroundSize","Extend","options","defaults","key","hasOwnProperty","Children","elem","children","array","ret","nodeName","toUpperCase","contentDocument","contentWindow","childNodes","first","second","j","l","ex","isTransparent","backgroundColor","Font","font","fontSize","doc","baseline","metricsObj","container","createElement","img","span","visibility","fontFamily","margin","padding","body","appendChild","src","verticalAlign","createTextNode","removeChild","lineHeight","lineWidth","middle","Generate","reGradients","addScrollStops","grad","colorStop","addColorStop","stop","e","parseGradient","css","gradient","m1","m2","m2Len","step","m3","tl","tr","br","bl","len","type","x0","y0","x1","y1","colorStops","max","cx","cy","rx","ry","sqrt","pow","min","Gradient","canvas","ctx","getContext","createLinearGradient","forEach","fillStyle","fillRect","createRadialGradient","canvasRadial","ctxRadial","ri","di","drawImage","ListAlpha","number","modulus","tmp","fromCharCode","ListRoman","romanArray","decimal","roman","Parse","images","scroll","elements","ownerDocument","support","Support","ignoreElementsRegExp","RegExp","ignoreElements","pseudoHide","hidePseudoElements","getCSSInt","isNaN","renderRect","x","y","w","h","bgcolor","setVariable","capitalize","m","p1","p2","drawText","currentText","fillText","setTextVariables","text_decoration","bold","family","size","join","getTextBounds","state","text","textDecoration","isLast","transform","rangeBounds","textNode","textOffset","range","createRange","setStart","setEnd","textRangeBounds","node","nodeValue","newTextNode","splitText","oldTextNode","parentNode","wrapElement","backupText","cloneNode","replaceChild","textWrapperBounds","renderText","stack","metrics","textList","letter_spacing","textAlign","textTransform","letterRendering","chinese","word","unshift","splice","matrix","ceil","renderTextDecoration","renderListItem","elBounds","listBounds","originalType","boundElement","display","listStyleType","insertBefore","firstChild","listPosition","currentIndex","count","childs","nodeType","elementIndex","listItemText","loadImage","succeeded","clipBounds","dst","renderImage","borders","paddingLeft","paddingTop","paddingRight","paddingBottom","innerHTML","kappa","getCurvePoints","r1","r2","ox","oy","xm","ym","topLeft","bezierCurve","topRight","bottomRight","bottomLeft","start","startControl","endControl","end","lerp","b","t","subdivide","ab","bc","cd","abbc","bccd","dest","curveTo","borderArgs","curveToReversed","parseCorner","radius1","radius2","corner1","corner2","drawSide","borderData","outer1","inner1","outer2","inner2","c1","c2","c3","c4","parseBorders","borderSide","bx","by","bw","bh","borderRadius","side","getBorderRadiusData","borderPoints","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","topLeftOuter","topLeftInner","topRightOuter","topRightInner","bottomRightOuter","bottomRightInner","bottomLeftOuter","bottomLeftInner","calculateCurvePoints","clip","radius","getBorderClip","createShape","shape","drawShape","border","slice","renderFormValue","textValue","valueWrap","property","borderColor","borderStyle","position","selectedIndex","placeholder","Array","call","arguments","getPseudoElement","which","elStyle","content","isImage","elps","className","keys_default","filter","indexedProperty","renderBackgroundRepeat","backgroundPosition","createPattern","translate","fill","backgroundRepeatShape","save","restore","renderBackgroundRepeating","backgroundRepeat","resizeImage","removePx","str","background","transparentBackground","transformRegExp","createStack","parentStack","storage","scrollWidth","documentElement","clientWidth","scrollHeight","clientHeight","moveTo","lineTo","arcTo","bezierCurveTo","quadraticCurveTo","variable","opacity","setOpacity","cssPosition","getBorderData","newContext","isPositioned","zIndex","isFloated","zindex","ownStacking","setZ","useOverflow","renderElement","pseudoElement","ignoreBackground","transformOrigin","origin","getTransform","getBounds","backgroundBounds","getBackgroundBounds","renderBackgroundColor","backgroundImage","backgroundImages","renderBackgroundImage","renderBorders","before","after","parseElement","injectPseudoElements","getAttribute","hasAttribute","isElementVisible","parseChildren","ELEMENT_NODE","TEXT_NODE","Preload","pageOrigin","methods","timeoutTimer","numLoaded","numFailed","numTotal","cleanupDone","domImages","getElementsByTagName","imgLen","link","supportCORS","Image","crossOrigin","firstRun","complete","proxyGetImage","imageObj","callback_name","script","scriptUrl","proxy","href","callbackname","encodeURIComponent","substring","setImageLoadHandlers","setAttribute","loadPseudoElement","loadBackgroundImages","invalidBackgrounds","background_image","loadGradientImage","onload","timer","clearTimeout","onerror","location","protocol","host","allowTaint","useCORS","cleanupDOM","cause","timeout","typeof_default","execCommand","close","renderingDone","setTimeout","getImages","elNodeType","Renderer","parseQueue","rendererName","renderer","Error","getRenderer","queue","sortZ","context","sort","zi","nonPositioned","floated","positioned","list","walk","concat","rootNode","rootContext","insert","specialParent","Number","contextForChildren","stub","childrenDest","!","childNode","createRenderQueue","testElement","selectNode","svgRendering","toDataURL","supportSVGRendering","html2canvas","opts","taintTest","onpreloaded","onparsed","onrendered","parse","preload","Canvas","safeImages","testCanvas","testctx","renderItem","item","beginPath","arg","closePath","getImageData","safeImage","parsedData","newCanvas","fstyle","zStack","storageContext","textBaseline","rect","config","productionTip","ua","wechat","getOpenid","store","template","components","App","setWxConfig","jsApiList","Url","callback","webkit","messageHandlers","getVersionCode","postMessage","callBack","version","SecrectActivity","getVersionCodeSuc","getInsideVersion","getUserInfo","JSON","getUserInfoSuc","getUserInfoFromInside","userInfo","userUuid","uphone","phone","setUserUuid","getLoginUserData","userData","tips","show","openApp","getUrlQuery","reg","search","Storage","set","stringify_default","setItem","get","getJSON","remove","removeItem","localStorage","session","appId","openid","configParam","debug","timestamp","nonceStr","signature","authCode","scanQrCode","cb","wx","scanQRCode","desc","needResult","scanType","resultStr","errMsg","alert","chooseImage","sizeType","sourceType","localIds","uploadImage","localId","isShowProgressTips","serverId","getConfigParam","_this","_ref","_this2","ready","fail","getCode","wechatAuth","reUrl","redirectUri","_this3","Cookies","d","__webpack_exports__","getIndexData","getNotice","addContactInfo","scanLogin","addSelectedInfo","getVisitNum","getTicketsRecord","refundTicket","changeTicket","addRealPeople","getTicketDetail","getTicketScanInfo","__WEBPACK_IMPORTED_MODULE_0__ajax_js__","__WEBPACK_IMPORTED_MODULE_1__store_store__","sex","area","remark","areaCode","_ref2","username","password","_ref3","contactName","contactPhone","dayNumber","entryTime","guide","teamName","_ref4","_ref4$pageNo","pageNo","_ref4$pageSize","pageSize","_ref5","ticketNumber","_ref6","peopleCount","commit","_ref7","_ref8","_ref9","_ref10","resizeEvt","reset","html","addEventListener","Vuex","Store","selectedInfo","daySltActive","ticketType","selectedSpec","selectedTime","singleCount","scanStatus","showMessage","visitNotice","pullupshow","mutations","selectedDay","day","selectSpec","payload","selectSingleCount","selectTime","setScanStatus","setVisitNotice","changepullup","actions","strict","process"],"mappings":"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","file":"static/js/app.2b2df92a5def871e2499.js","sourcesContent":["import axios from 'axios'\r\nimport qs from 'qs'\r\nimport {\r\n    SUCCESS,\r\n} from './statusCode.js'\r\n// import { storage } from './utils'\r\n// import router from '../router/index'\r\n// import Cookies from 'js-cookie'\r\n// import wechat from './wechat'\r\n\r\nlet Error = function (status, message) {\r\n    this.status = status || 0\r\n    this.message = message || ''\r\n}\r\n// Error.prototype.handler = function () {\r\n//     switch (this.status) {\r\n//         case 100:\r\n//             let current = router.name\r\n//             if (storage.get('openid')) {\r\n//                 Cookies.set('openid', storage.get('openid'))\r\n//                 router.go({name: current})\r\n//             } else {\r\n//                 wechat.getOpenid(() => {\r\n//                     router.go({name: current})\r\n//                 })\r\n//             }\r\n//             break\r\n//     }\r\n//     this.state = ''\r\n// }\r\nlet sendRequest = (conf, successCallback, errorCallback) => {\r\n    return axios(conf)\r\n        .then((res) => {\r\n            let code = res.data\r\n            return new Promise((resolve, reject) => {\r\n                if (code.status === SUCCESS) {\r\n                    successCallback && successCallback(code.data)\r\n                    resolve(code.data)\r\n                } else {\r\n                    let error = new Error(code.status, code.message)\r\n                    if (errorCallback) {\r\n                        errorCallback(error)\r\n                    } else {\r\n                        error.handler()\r\n                    }\r\n                }\r\n            })\r\n        })\r\n}\r\nlet ajax = function (json) {\r\n    // console.log(json);\r\n    // let interfaceUrl = 'http://192.168.3.152:8080/nfrb'\r\n    // let interfaceUrl = 'http://192.168.3.5:8080/nfrb'\r\n    let interfaceUrl = 'http://nfrb.ydcycloud.com/nfrb'\r\n    // let interfaceUrl = 'http://muqin.free.ngrok.cc/nfrb'\r\n    let conf = {\r\n        url: interfaceUrl + json.url,\r\n        method: json.method || 'post',\r\n        params: json.params || null,\r\n        data: json.data || null,\r\n        // withCredentials: true,  // 异步维持session\r\n        transformRequest: [data => qs.stringify(data)],\r\n    }\r\n    return sendRequest(conf, json.success, json.error)\r\n}\r\nexport default ajax\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ajax.js","export const ACCOUNT_OR_PASSWORD_ERROR = 100\r\nexport const TWO_PWD_DIFFERENT = 101\r\nexport const ACCOUNT_DISABLED = 102\r\nexport const LOGIN_EXPIRED = 103\r\nexport const ORIGIN_PWD_ERROR = 104\r\n\r\n// 系统通知类\r\nexport const SUCCESS = 300\r\nexport const SYSTEM_ERROR = 301\r\nexport const PARAMETER_ERROR = 302\r\nexport const NO_DATA = 303\r\n\r\n// 格式类\r\nexport const MOBILE_PHONE_ERROR = 304\r\nexport const PHONE_ERROR = 305\r\nexport const EMAIL_ERROR = 306\r\n\r\nexport const NET_ERROR = -1\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/statusCode.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-dd735c78\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dd735c78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dd735c78\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div id=\"app\">\r\n        <!--<address-slt></address-slt>-->\r\n        <router-view/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'app',\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @import \"./css/_base.scss\";\r\n    #app{\r\n        width: 100%;\r\n        min-height: 100vh;\r\n        background: url(\"./assets/images/bgImg.png\") #e4dfcb;\r\n        background-size: 100%;\r\n        position: relative;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n// import wechat from '../js/wechat'\r\n\r\nconst index = r => require.ensure([], () => r(require('../pages/index.vue')), 'index')  // 按需加载\r\nconst enlistRecord = r => require.ensure([], () => r(require('../pages/enlistRecord.vue')), 'enlistRecord')\r\nconst login = r => require.ensure([], () => r(require('../pages/login.vue')), 'login')\r\nconst shortcut = r => require.ensure([], () => r(require('../pages/shortcut.vue')), 'shortcut')\r\nconst scan = r => require.ensure([], () => r(require('../pages/scan.vue')), 'scan')\r\nconst addInfo = r => require.ensure([], () => r(require('../pages/addInfo.vue')), 'addInfo')\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            component: index,\r\n            name: index\r\n        },\r\n        {\r\n            path: '/enlistRecord',\r\n            component: enlistRecord,\r\n            name: enlistRecord\r\n        },\r\n        {\r\n            path: '/login',\r\n            component: login,\r\n            name: login\r\n        },\r\n        {\r\n            path: '/shortcut',\r\n            component: shortcut,\r\n            name: shortcut\r\n        },\r\n        {\r\n            path: '/scan',\r\n            component: scan,\r\n            name: scan,\r\n            meta: {\r\n                requiresLogin: true\r\n            }\r\n        },\r\n        {\r\n            path: '/addInfo',\r\n            component: addInfo,\r\n            name: addInfo\r\n        }\r\n    ]\r\n})\r\nrouter.beforeEach((to, from, next) => {\r\n    // wechat.wechatAuth()\r\n    // let timestamp = new Date().getTime()\r\n    let isLogin = window.sessionStorage.getItem('isLogin')\r\n    if (to.meta.requiresLogin) {\r\n        isLogin === 'true' ? next() : next({path: '/login'})\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","/* eslint-disable */\r\n// 判断是否为安卓\r\nfunction isAndroid () {\r\n    return /(Android)/i.test(navigator.userAgent);\r\n}\r\n// 判断是否为iOS\r\nfunction isIOS () {\r\n    return /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent);\r\n}\r\n/**\r\n * @description 获取客户端版本号\r\n * @param {Function} callback 回调函数\r\n */\r\nfunction getInsideVersion (callback) {\r\n    try {\r\n        window.webkit.messageHandlers.getVersionCode.postMessage({\r\n            callBack: 'getVersionCodeSuc'\r\n        })\r\n    } catch (e) {\r\n        try {\r\n            var version = parseInt(window.SecrectActivity.getVersionCode());\r\n            if (isAndroid()) {\r\n                version = version / 10;\r\n            }\r\n            callback && callback(version);\r\n        } catch (e) {\r\n            callback && callback(false);\r\n        }\r\n    }\r\n    window.getVersionCodeSuc = function (version) {\r\n        callback && callback(version);\r\n    }\r\n}\r\n// 在客户端内调用会返回版本号数值，在客户端外会返回false\r\n// 如：在3.8.0版本会返回380\r\n// getInsideVersion(function (version) {\r\n//     // 判断版本号是否大于等于3.8.0\r\n//     if (version >= 380) {\r\n//         // 处理逻辑\r\n//     }\r\n// })\r\n/**\r\n * @description 获取客户端设备ID\r\n * @param {Function} callback 回调函数\r\n */\r\nfunction getDeviceId (callback) {\r\n    var blankStr = '';\r\n    try {\r\n        window.webkit.messageHandlers.getDeviceId.postMessage({\r\n            callBack: 'getDeviceIdSuc'\r\n        })\r\n    } catch (e) {\r\n        try {\r\n            if (isIOS()) {\r\n                callback && callback(window.SecrectActivity.getDeviceId());\r\n            } else if (isAndroid()) {\r\n                callback && callback(window.activity.getDeviceId());\r\n            } else {\r\n                callback && callback(blankStr);\r\n            }\r\n        } catch (e) {\r\n            callback && callback(blankStr);\r\n        }\r\n    }\r\n    window.getDeviceIdSuc = function (deviceId) {\r\n        callback && callback(deviceId);\r\n    }\r\n}\r\n// 在客户端内调用会返回设备ID字符串，在客户端外会返回空字符串\r\n// getDeviceId(function (deviceId) {\r\n//     // 处理逻辑\r\n// })\r\n/**\r\n * @description 获取用户登录信息\r\n * @param {Function} callback 回调函数\r\n */\r\nfunction getUserInfoFromInside (callback) {\r\n    try {\r\n        window.webkit.messageHandlers.getUserInfo.postMessage({\r\n            callBack: 'getUserInfoSuc'\r\n        })\r\n    } catch (e) {\r\n        try {\r\n            var res = window.SecrectActivity.getUserInfo();\r\n            callback && callback(JSON.parse(res));\r\n        } catch (e) {\r\n            callback && callback(false);\r\n        }\r\n    }\r\n    window.getUserInfoSuc = function (res) {\r\n        callback && callback(JSON.parse(res));\r\n    }\r\n}\r\n// 在客户端内调用会返回用户登录信息，在客户端外会返回false\r\n// 返回信息为Object，包含以下两个字段：\r\n// userUuid: 用于数据请求的userUuid，未登录的情况下为空字符串\r\n// phone: 用户是否用使用手机号登录或账户是否绑定手机号，是则返回1，否则返回0（未登录也返回0）\r\n/*\r\n返回样例：\r\n{\r\n  userUuid: 'fdfsafds-fdfsdfsdf-fdfasfsdf-fdsaff',\r\n  phone: 1\r\n}\r\n*/\r\n// getUserInfoFromInside(function (userInfo) {\r\n//     // 处理逻辑\r\n// })\r\n// 首先获取客户端版本信息\r\n// getInsideVersion(function (version) {\r\n//     if (version >= 380) {\r\n//         if (version >= 460) {\r\n//             getUserInfoFromInside(function (userInfo) {\r\n//                 var userUuid = userInfo.userUuid;\r\n//                 var phone = userInfo.phone;\r\n//                 // 首先判断是否已经登录\r\n//                 // 没有登录的需要先弹出手机登录框\r\n//                 if (!userUuid) {\r\n//                     // 进入登录协议头获取登录信息\r\n//                     window.location.href = 'getLoginPhoneInfo:///';\r\n//                     return;\r\n//                 }\r\n//                 // 然后判断是否绑定手机号\r\n//                 if (!phone) {\r\n//                     // 弹出绑定手机号弹窗，具体样式看后文\r\n//                     // 弹出绑定手机号弹窗代码\r\n//                     return;\r\n//                 }\r\n//                 // 最后符合要求的进入登录协议头获取登录信息\r\n//                 // 进入登录协议头获取登录信息\r\n//                 window.location.href = 'getLoginPhoneInfo:///';\r\n//             })\r\n//         } else {\r\n//             // 低于4.6.0版本直接获取登录信息\r\n//             // 进入登录协议头获取登录信息\r\n//             window.location.href = 'getLoginPhoneInfo:///';\r\n//         }\r\n//     } else {\r\n//         // 低于3.8.0版本提示用户下载南方+或者不做处理\r\n//     }\r\n// })\r\n// // 获取登录信息\r\n// // 该方法需要提前实现在全局下，当调用登录协议头时，客户端会调用该方法并传值\r\n// /*\r\n// 返回样例：\"{\"userUuid\":\"fdfsafds-fdfsdfsdf-fdfasfsdf-fdsaff\"}\"\r\n// */\r\n// window.getLoginUserData = function (userData) {\r\n//     // 进入登录回调方法需要先隐藏绑定手机号弹框\r\n//     // 隐藏绑定手机号弹窗代码\r\n//     // 获取登录信息\r\n//     // 返回的是字符串，需要转换为Object\r\n//     let data = JSON.parse(userData);\r\n//     if (data.userUuid !== '') {\r\n//         // 得到用户的userUuid\r\n//     }\r\n// }\r\n// 分享地址，需自己配置\r\n\r\nexport {\r\n    getInsideVersion,\r\n    getDeviceId,\r\n    getUserInfoFromInside,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/appJuc.js","/*\r\n  html2canvas 0.4.1 <http://html2canvas.hertzen.com>\r\n  Copyright (c) 2013 Niklas von Hertzen\r\n\r\n  Released under MIT License\r\n*/\r\n/* eslint-disable */\r\n(function(window, document, undefined){\r\n    \r\n    \"use strict\";\r\n    \r\n    var _html2canvas = {},\r\n        previousElement,\r\n        computedCSS,\r\n        html2canvas;\r\n    \r\n    _html2canvas.Util = {};\r\n    \r\n    _html2canvas.Util.log = function(a) {\r\n        if (_html2canvas.logging && window.console && window.console.log) {\r\n            window.console.log(a);\r\n        }\r\n    };\r\n    \r\n    _html2canvas.Util.trimText = (function(isNative){\r\n        return function(input) {\r\n            return isNative ? isNative.apply(input) : ((input || '') + '').replace( /^\\s+|\\s+$/g , '' );\r\n        };\r\n    })(String.prototype.trim);\r\n    \r\n    _html2canvas.Util.asFloat = function(v) {\r\n        return parseFloat(v);\r\n    };\r\n    \r\n    (function() {\r\n        // TODO: support all possible length values\r\n        var TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\r\n        var TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\r\n        _html2canvas.Util.parseTextShadows = function (value) {\r\n            if (!value || value === 'none') {\r\n                return [];\r\n            }\r\n            \r\n            // find multiple shadow declarations\r\n            var shadows = value.match(TEXT_SHADOW_PROPERTY),\r\n                results = [];\r\n            for (var i = 0; shadows && (i < shadows.length); i++) {\r\n                var s = shadows[i].match(TEXT_SHADOW_VALUES);\r\n                results.push({\r\n                    color: s[0],\r\n                    offsetX: s[1] ? s[1].replace('px', '') : 0,\r\n                    offsetY: s[2] ? s[2].replace('px', '') : 0,\r\n                    blur: s[3] ? s[3].replace('px', '') : 0\r\n                });\r\n            }\r\n            return results;\r\n        };\r\n    })();\r\n    \r\n    \r\n    _html2canvas.Util.parseBackgroundImage = function (value) {\r\n        var whitespace = ' \\r\\n\\t',\r\n            method, definition, prefix, prefix_i, block, results = [],\r\n            c, mode = 0, numParen = 0, quote, args;\r\n        \r\n        var appendResult = function(){\r\n            if(method) {\r\n                if(definition.substr( 0, 1 ) === '\"') {\r\n                    definition = definition.substr( 1, definition.length - 2 );\r\n                }\r\n                if(definition) {\r\n                    args.push(definition);\r\n                }\r\n                if(method.substr( 0, 1 ) === '-' &&\r\n                    (prefix_i = method.indexOf( '-', 1 ) + 1) > 0) {\r\n                    prefix = method.substr( 0, prefix_i);\r\n                    method = method.substr( prefix_i );\r\n                }\r\n                results.push({\r\n                    prefix: prefix,\r\n                    method: method.toLowerCase(),\r\n                    value: block,\r\n                    args: args\r\n                });\r\n            }\r\n            args = []; //for some odd reason, setting .length = 0 didn't work in safari\r\n            method =\r\n                prefix =\r\n                    definition =\r\n                        block = '';\r\n        };\r\n        \r\n        appendResult();\r\n        for(var i = 0, ii = value.length; i<ii; i++) {\r\n            c = value[i];\r\n            if(mode === 0 && whitespace.indexOf( c ) > -1){\r\n                continue;\r\n            }\r\n            switch(c) {\r\n                case '\"':\r\n                    if(!quote) {\r\n                        quote = c;\r\n                    }\r\n                    else if(quote === c) {\r\n                        quote = null;\r\n                    }\r\n                    break;\r\n                \r\n                case '(':\r\n                    if(quote) { break; }\r\n                    else if(mode === 0) {\r\n                        mode = 1;\r\n                        block += c;\r\n                        continue;\r\n                    } else {\r\n                        numParen++;\r\n                    }\r\n                    break;\r\n                \r\n                case ')':\r\n                    if(quote) { break; }\r\n                    else if(mode === 1) {\r\n                        if(numParen === 0) {\r\n                            mode = 0;\r\n                            block += c;\r\n                            appendResult();\r\n                            continue;\r\n                        } else {\r\n                            numParen--;\r\n                        }\r\n                    }\r\n                    break;\r\n                \r\n                case ',':\r\n                    if(quote) { break; }\r\n                    else if(mode === 0) {\r\n                        appendResult();\r\n                        continue;\r\n                    }\r\n                    else if (mode === 1) {\r\n                        if(numParen === 0 && !method.match(/^url$/i)) {\r\n                            args.push(definition);\r\n                            definition = '';\r\n                            block += c;\r\n                            continue;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            \r\n            block += c;\r\n            if(mode === 0) { method += c; }\r\n            else { definition += c; }\r\n        }\r\n        appendResult();\r\n        \r\n        return results;\r\n    };\r\n    \r\n    _html2canvas.Util.Bounds = function (element) {\r\n        var clientRect, bounds = {};\r\n        \r\n        if (element.getBoundingClientRect){\r\n            clientRect = element.getBoundingClientRect();\r\n            \r\n            // TODO add scroll position to bounds, so no scrolling of window necessary\r\n            bounds.top = clientRect.top;\r\n            bounds.bottom = clientRect.bottom || (clientRect.top + clientRect.height);\r\n            bounds.left = clientRect.left;\r\n            \r\n            bounds.width = element.offsetWidth;\r\n            bounds.height = element.offsetHeight;\r\n        }\r\n        \r\n        return bounds;\r\n    };\r\n\r\n// TODO ideally, we'd want everything to go through this function instead of Util.Bounds,\r\n// but would require further work to calculate the correct positions for elements with offsetParents\r\n    _html2canvas.Util.OffsetBounds = function (element) {\r\n        var parent = element.offsetParent ? _html2canvas.Util.OffsetBounds(element.offsetParent) : {top: 0, left: 0};\r\n        \r\n        return {\r\n            top: element.offsetTop + parent.top,\r\n            bottom: element.offsetTop + element.offsetHeight + parent.top,\r\n            left: element.offsetLeft + parent.left,\r\n            width: element.offsetWidth,\r\n            height: element.offsetHeight\r\n        };\r\n    };\r\n    \r\n    function toPX(element, attribute, value ) {\r\n        var rsLeft = element.runtimeStyle && element.runtimeStyle[attribute],\r\n            left,\r\n            style = element.style;\r\n        \r\n        // Check if we are not dealing with pixels, (Opera has issues with this)\r\n        // Ported from jQuery css.js\r\n        // From the awesome hack by Dean Edwards\r\n        // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\r\n        \r\n        // If we're not dealing with a regular pixel number\r\n        // but a number that has a weird ending, we need to convert it to pixels\r\n        \r\n        if ( !/^-?[0-9]+\\.?[0-9]*(?:px)?$/i.test( value ) && /^-?\\d/.test(value) ) {\r\n            // Remember the original values\r\n            left = style.left;\r\n            \r\n            // Put in the new values to get a computed value out\r\n            if (rsLeft) {\r\n                element.runtimeStyle.left = element.currentStyle.left;\r\n            }\r\n            style.left = attribute === \"fontSize\" ? \"1em\" : (value || 0);\r\n            value = style.pixelLeft + \"px\";\r\n            \r\n            // Revert the changed values\r\n            style.left = left;\r\n            if (rsLeft) {\r\n                element.runtimeStyle.left = rsLeft;\r\n            }\r\n        }\r\n        \r\n        if (!/^(thin|medium|thick)$/i.test(value)) {\r\n            return Math.round(parseFloat(value)) + \"px\";\r\n        }\r\n        \r\n        return value;\r\n    }\r\n    \r\n    function asInt(val) {\r\n        return parseInt(val, 10);\r\n    }\r\n    \r\n    function parseBackgroundSizePosition(value, element, attribute, index) {\r\n        value = (value || '').split(',');\r\n        value = value[index || 0] || value[0] || 'auto';\r\n        value = _html2canvas.Util.trimText(value).split(' ');\r\n        \r\n        if(attribute === 'backgroundSize' && (!value[0] || value[0].match(/cover|contain|auto/))) {\r\n            //these values will be handled in the parent function\r\n        } else {\r\n            value[0] = (value[0].indexOf( \"%\" ) === -1) ? toPX(element, attribute + \"X\", value[0]) : value[0];\r\n            if(value[1] === undefined) {\r\n                if(attribute === 'backgroundSize') {\r\n                    value[1] = 'auto';\r\n                    return value;\r\n                } else {\r\n                    // IE 9 doesn't return double digit always\r\n                    value[1] = value[0];\r\n                }\r\n            }\r\n            value[1] = (value[1].indexOf(\"%\") === -1) ? toPX(element, attribute + \"Y\", value[1]) : value[1];\r\n        }\r\n        return value;\r\n    }\r\n    \r\n    _html2canvas.Util.getCSS = function (element, attribute, index) {\r\n        if (previousElement !== element) {\r\n            computedCSS = document.defaultView.getComputedStyle(element, null);\r\n        }\r\n        \r\n        var value = computedCSS[attribute];\r\n        \r\n        if (/^background(Size|Position)$/.test(attribute)) {\r\n            return parseBackgroundSizePosition(value, element, attribute, index);\r\n        } else if (/border(Top|Bottom)(Left|Right)Radius/.test(attribute)) {\r\n            var arr = value.split(\" \");\r\n            if (arr.length <= 1) {\r\n                arr[1] = arr[0];\r\n            }\r\n            return arr.map(asInt);\r\n        }\r\n        \r\n        return value;\r\n    };\r\n    \r\n    _html2canvas.Util.resizeBounds = function( current_width, current_height, target_width, target_height, stretch_mode ){\r\n        var target_ratio = target_width / target_height,\r\n            current_ratio = current_width / current_height,\r\n            output_width, output_height;\r\n        \r\n        if(!stretch_mode || stretch_mode === 'auto') {\r\n            output_width = target_width;\r\n            output_height = target_height;\r\n        } else if(target_ratio < current_ratio ^ stretch_mode === 'contain') {\r\n            output_height = target_height;\r\n            output_width = target_height * current_ratio;\r\n        } else {\r\n            output_width = target_width;\r\n            output_height = target_width / current_ratio;\r\n        }\r\n        \r\n        return {\r\n            width: output_width,\r\n            height: output_height\r\n        };\r\n    };\r\n    \r\n    function backgroundBoundsFactory( prop, el, bounds, image, imageIndex, backgroundSize ) {\r\n        var bgposition =  _html2canvas.Util.getCSS( el, prop, imageIndex ) ,\r\n            topPos,\r\n            left,\r\n            percentage,\r\n            val;\r\n        \r\n        if (bgposition.length === 1){\r\n            val = bgposition[0];\r\n            \r\n            bgposition = [];\r\n            \r\n            bgposition[0] = val;\r\n            bgposition[1] = val;\r\n        }\r\n        \r\n        if (bgposition[0].toString().indexOf(\"%\") !== -1){\r\n            percentage = (parseFloat(bgposition[0])/100);\r\n            left = bounds.width * percentage;\r\n            if(prop !== 'backgroundSize') {\r\n                left -= (backgroundSize || image).width*percentage;\r\n            }\r\n        } else {\r\n            if(prop === 'backgroundSize') {\r\n                if(bgposition[0] === 'auto') {\r\n                    left = image.width;\r\n                } else {\r\n                    if (/contain|cover/.test(bgposition[0])) {\r\n                        var resized = _html2canvas.Util.resizeBounds(image.width, image.height, bounds.width, bounds.height, bgposition[0]);\r\n                        left = resized.width;\r\n                        topPos = resized.height;\r\n                    } else {\r\n                        left = parseInt(bgposition[0], 10);\r\n                    }\r\n                }\r\n            } else {\r\n                left = parseInt( bgposition[0], 10);\r\n            }\r\n        }\r\n        \r\n        \r\n        if(bgposition[1] === 'auto') {\r\n            topPos = left / image.width * image.height;\r\n        } else if (bgposition[1].toString().indexOf(\"%\") !== -1){\r\n            percentage = (parseFloat(bgposition[1])/100);\r\n            topPos =  bounds.height * percentage;\r\n            if(prop !== 'backgroundSize') {\r\n                topPos -= (backgroundSize || image).height * percentage;\r\n            }\r\n            \r\n        } else {\r\n            topPos = parseInt(bgposition[1],10);\r\n        }\r\n        \r\n        return [left, topPos];\r\n    }\r\n    \r\n    _html2canvas.Util.BackgroundPosition = function( el, bounds, image, imageIndex, backgroundSize ) {\r\n        var result = backgroundBoundsFactory( 'backgroundPosition', el, bounds, image, imageIndex, backgroundSize );\r\n        return { left: result[0], top: result[1] };\r\n    };\r\n    \r\n    _html2canvas.Util.BackgroundSize = function( el, bounds, image, imageIndex ) {\r\n        var result = backgroundBoundsFactory( 'backgroundSize', el, bounds, image, imageIndex );\r\n        return { width: result[0], height: result[1] };\r\n    };\r\n    \r\n    _html2canvas.Util.Extend = function (options, defaults) {\r\n        for (var key in options) {\r\n            if (options.hasOwnProperty(key)) {\r\n                defaults[key] = options[key];\r\n            }\r\n        }\r\n        return defaults;\r\n    };\r\n    \r\n    \r\n    /*\r\n\t * Derived from jQuery.contents()\r\n\t * Copyright 2010, John Resig\r\n\t * Dual licensed under the MIT or GPL Version 2 licenses.\r\n\t * http://jquery.org/license\r\n\t */\r\n    _html2canvas.Util.Children = function( elem ) {\r\n        var children;\r\n        try {\r\n            children = (elem.nodeName && elem.nodeName.toUpperCase() === \"IFRAME\") ? elem.contentDocument || elem.contentWindow.document : (function(array) {\r\n                var ret = [];\r\n                if (array !== null) {\r\n                    (function(first, second ) {\r\n                        var i = first.length,\r\n                            j = 0;\r\n                        \r\n                        if (typeof second.length === \"number\") {\r\n                            for (var l = second.length; j < l; j++) {\r\n                                first[i++] = second[j];\r\n                            }\r\n                        } else {\r\n                            while (second[j] !== undefined) {\r\n                                first[i++] = second[j++];\r\n                            }\r\n                        }\r\n                        \r\n                        first.length = i;\r\n                        \r\n                        return first;\r\n                    })(ret, array);\r\n                }\r\n                return ret;\r\n            })(elem.childNodes);\r\n            \r\n        } catch (ex) {\r\n            _html2canvas.Util.log(\"html2canvas.Util.Children failed with exception: \" + ex.message);\r\n            children = [];\r\n        }\r\n        return children;\r\n    };\r\n    \r\n    _html2canvas.Util.isTransparent = function(backgroundColor) {\r\n        return (backgroundColor === \"transparent\" || backgroundColor === \"rgba(0, 0, 0, 0)\");\r\n    };\r\n    _html2canvas.Util.Font = (function () {\r\n        \r\n        var fontData = {};\r\n        \r\n        return function(font, fontSize, doc) {\r\n            if (fontData[font + \"-\" + fontSize] !== undefined) {\r\n                return fontData[font + \"-\" + fontSize];\r\n            }\r\n            \r\n            var container = doc.createElement('div'),\r\n                img = doc.createElement('img'),\r\n                span = doc.createElement('span'),\r\n                sampleText = 'Hidden Text',\r\n                baseline,\r\n                middle,\r\n                metricsObj;\r\n            \r\n            container.style.visibility = \"hidden\";\r\n            container.style.fontFamily = font;\r\n            container.style.fontSize = fontSize;\r\n            container.style.margin = 0;\r\n            container.style.padding = 0;\r\n            \r\n            doc.body.appendChild(container);\r\n            \r\n            // http://probablyprogramming.com/2009/03/15/the-tiniest-gif-ever (handtinywhite.gif)\r\n            img.src = \"data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=\";\r\n            img.width = 1;\r\n            img.height = 1;\r\n            \r\n            img.style.margin = 0;\r\n            img.style.padding = 0;\r\n            img.style.verticalAlign = \"baseline\";\r\n            \r\n            span.style.fontFamily = font;\r\n            span.style.fontSize = fontSize;\r\n            span.style.margin = 0;\r\n            span.style.padding = 0;\r\n            \r\n            span.appendChild(doc.createTextNode(sampleText));\r\n            container.appendChild(span);\r\n            container.appendChild(img);\r\n            baseline = (img.offsetTop - span.offsetTop) + 1;\r\n            \r\n            container.removeChild(span);\r\n            container.appendChild(doc.createTextNode(sampleText));\r\n            \r\n            container.style.lineHeight = \"normal\";\r\n            img.style.verticalAlign = \"super\";\r\n            \r\n            middle = (img.offsetTop-container.offsetTop) + 1;\r\n            metricsObj = {\r\n                baseline: baseline,\r\n                lineWidth: 1,\r\n                middle: middle\r\n            };\r\n            \r\n            fontData[font + \"-\" + fontSize] = metricsObj;\r\n            \r\n            doc.body.removeChild(container);\r\n            \r\n            return metricsObj;\r\n        };\r\n    })();\r\n    \r\n    (function(){\r\n        var Util = _html2canvas.Util,\r\n            Generate = {};\r\n        \r\n        _html2canvas.Generate = Generate;\r\n        \r\n        var reGradients = [\r\n            /^(-webkit-linear-gradient)\\(([a-z\\s]+)([\\w\\d\\.\\s,%\\(\\)]+)\\)$/,\r\n            /^(-o-linear-gradient)\\(([a-z\\s]+)([\\w\\d\\.\\s,%\\(\\)]+)\\)$/,\r\n            /^(-webkit-gradient)\\((linear|radial),\\s((?:\\d{1,3}%?)\\s(?:\\d{1,3}%?),\\s(?:\\d{1,3}%?)\\s(?:\\d{1,3}%?))([\\w\\d\\.\\s,%\\(\\)\\-]+)\\)$/,\r\n            /^(-moz-linear-gradient)\\(((?:\\d{1,3}%?)\\s(?:\\d{1,3}%?))([\\w\\d\\.\\s,%\\(\\)]+)\\)$/,\r\n            /^(-webkit-radial-gradient)\\(((?:\\d{1,3}%?)\\s(?:\\d{1,3}%?)),\\s(\\w+)\\s([a-z\\-]+)([\\w\\d\\.\\s,%\\(\\)]+)\\)$/,\r\n            /^(-moz-radial-gradient)\\(((?:\\d{1,3}%?)\\s(?:\\d{1,3}%?)),\\s(\\w+)\\s?([a-z\\-]*)([\\w\\d\\.\\s,%\\(\\)]+)\\)$/,\r\n            /^(-o-radial-gradient)\\(((?:\\d{1,3}%?)\\s(?:\\d{1,3}%?)),\\s(\\w+)\\s([a-z\\-]+)([\\w\\d\\.\\s,%\\(\\)]+)\\)$/\r\n        ];\r\n        \r\n        /*\r\n\t   * TODO: Add IE10 vendor prefix (-ms) support\r\n\t   * TODO: Add W3C gradient (linear-gradient) support\r\n\t   * TODO: Add old Webkit -webkit-gradient(radial, ...) support\r\n\t   * TODO: Maybe some RegExp optimizations are possible ;o)\r\n\t   */\r\n        Generate.parseGradient = function(css, bounds) {\r\n            var gradient, i, len = reGradients.length, m1, stop, m2, m2Len, step, m3, tl,tr,br,bl;\r\n            \r\n            for(i = 0; i < len; i+=1){\r\n                m1 = css.match(reGradients[i]);\r\n                if(m1) {\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            if(m1) {\r\n                switch(m1[1]) {\r\n                    case '-webkit-linear-gradient':\r\n                    case '-o-linear-gradient':\r\n                        \r\n                        gradient = {\r\n                            type: 'linear',\r\n                            x0: null,\r\n                            y0: null,\r\n                            x1: null,\r\n                            y1: null,\r\n                            colorStops: []\r\n                        };\r\n                        \r\n                        // get coordinates\r\n                        m2 = m1[2].match(/\\w+/g);\r\n                        if(m2){\r\n                            m2Len = m2.length;\r\n                            for(i = 0; i < m2Len; i+=1){\r\n                                switch(m2[i]) {\r\n                                    case 'top':\r\n                                        gradient.y0 = 0;\r\n                                        gradient.y1 = bounds.height;\r\n                                        break;\r\n                                    \r\n                                    case 'right':\r\n                                        gradient.x0 = bounds.width;\r\n                                        gradient.x1 = 0;\r\n                                        break;\r\n                                    \r\n                                    case 'bottom':\r\n                                        gradient.y0 = bounds.height;\r\n                                        gradient.y1 = 0;\r\n                                        break;\r\n                                    \r\n                                    case 'left':\r\n                                        gradient.x0 = 0;\r\n                                        gradient.x1 = bounds.width;\r\n                                        break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if(gradient.x0 === null && gradient.x1 === null){ // center\r\n                            gradient.x0 = gradient.x1 = bounds.width / 2;\r\n                        }\r\n                        if(gradient.y0 === null && gradient.y1 === null){ // center\r\n                            gradient.y0 = gradient.y1 = bounds.height / 2;\r\n                        }\r\n                        \r\n                        // get colors and stops\r\n                        m2 = m1[3].match(/((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\)(?:\\s\\d{1,3}(?:%|px))?)+/g);\r\n                        if(m2){\r\n                            m2Len = m2.length;\r\n                            step = 1 / Math.max(m2Len - 1, 1);\r\n                            for(i = 0; i < m2Len; i+=1){\r\n                                m3 = m2[i].match(/((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\s*(\\d{1,3})?(%|px)?/);\r\n                                if(m3[2]){\r\n                                    stop = parseFloat(m3[2]);\r\n                                    if(m3[3] === '%'){\r\n                                        stop /= 100;\r\n                                    } else { // px - stupid opera\r\n                                        stop /= bounds.width;\r\n                                    }\r\n                                } else {\r\n                                    stop = i * step;\r\n                                }\r\n                                gradient.colorStops.push({\r\n                                    color: m3[1],\r\n                                    stop: stop\r\n                                });\r\n                            }\r\n                        }\r\n                        break;\r\n                    \r\n                    case '-webkit-gradient':\r\n                        \r\n                        gradient = {\r\n                            type: m1[2] === 'radial' ? 'circle' : m1[2], // TODO: Add radial gradient support for older mozilla definitions\r\n                            x0: 0,\r\n                            y0: 0,\r\n                            x1: 0,\r\n                            y1: 0,\r\n                            colorStops: []\r\n                        };\r\n                        \r\n                        // get coordinates\r\n                        m2 = m1[3].match(/(\\d{1,3})%?\\s(\\d{1,3})%?,\\s(\\d{1,3})%?\\s(\\d{1,3})%?/);\r\n                        if(m2){\r\n                            gradient.x0 = (m2[1] * bounds.width) / 100;\r\n                            gradient.y0 = (m2[2] * bounds.height) / 100;\r\n                            gradient.x1 = (m2[3] * bounds.width) / 100;\r\n                            gradient.y1 = (m2[4] * bounds.height) / 100;\r\n                        }\r\n                        \r\n                        // get colors and stops\r\n                        m2 = m1[4].match(/((?:from|to|color-stop)\\((?:[0-9\\.]+,\\s)?(?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\)\\))+/g);\r\n                        if(m2){\r\n                            m2Len = m2.length;\r\n                            for(i = 0; i < m2Len; i+=1){\r\n                                m3 = m2[i].match(/(from|to|color-stop)\\(([0-9\\.]+)?(?:,\\s)?((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\)/);\r\n                                stop = parseFloat(m3[2]);\r\n                                if(m3[1] === 'from') {\r\n                                    stop = 0.0;\r\n                                }\r\n                                if(m3[1] === 'to') {\r\n                                    stop = 1.0;\r\n                                }\r\n                                gradient.colorStops.push({\r\n                                    color: m3[3],\r\n                                    stop: stop\r\n                                });\r\n                            }\r\n                        }\r\n                        break;\r\n                    \r\n                    case '-moz-linear-gradient':\r\n                        \r\n                        gradient = {\r\n                            type: 'linear',\r\n                            x0: 0,\r\n                            y0: 0,\r\n                            x1: 0,\r\n                            y1: 0,\r\n                            colorStops: []\r\n                        };\r\n                        \r\n                        // get coordinates\r\n                        m2 = m1[2].match(/(\\d{1,3})%?\\s(\\d{1,3})%?/);\r\n                        \r\n                        // m2[1] == 0%   -> left\r\n                        // m2[1] == 50%  -> center\r\n                        // m2[1] == 100% -> right\r\n                        \r\n                        // m2[2] == 0%   -> top\r\n                        // m2[2] == 50%  -> center\r\n                        // m2[2] == 100% -> bottom\r\n                        \r\n                        if(m2){\r\n                            gradient.x0 = (m2[1] * bounds.width) / 100;\r\n                            gradient.y0 = (m2[2] * bounds.height) / 100;\r\n                            gradient.x1 = bounds.width - gradient.x0;\r\n                            gradient.y1 = bounds.height - gradient.y0;\r\n                        }\r\n                        \r\n                        // get colors and stops\r\n                        m2 = m1[3].match(/((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\)(?:\\s\\d{1,3}%)?)+/g);\r\n                        if(m2){\r\n                            m2Len = m2.length;\r\n                            step = 1 / Math.max(m2Len - 1, 1);\r\n                            for(i = 0; i < m2Len; i+=1){\r\n                                m3 = m2[i].match(/((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\s*(\\d{1,3})?(%)?/);\r\n                                if(m3[2]){\r\n                                    stop = parseFloat(m3[2]);\r\n                                    if(m3[3]){ // percentage\r\n                                        stop /= 100;\r\n                                    }\r\n                                } else {\r\n                                    stop = i * step;\r\n                                }\r\n                                gradient.colorStops.push({\r\n                                    color: m3[1],\r\n                                    stop: stop\r\n                                });\r\n                            }\r\n                        }\r\n                        break;\r\n                    \r\n                    case '-webkit-radial-gradient':\r\n                    case '-moz-radial-gradient':\r\n                    case '-o-radial-gradient':\r\n                        \r\n                        gradient = {\r\n                            type: 'circle',\r\n                            x0: 0,\r\n                            y0: 0,\r\n                            x1: bounds.width,\r\n                            y1: bounds.height,\r\n                            cx: 0,\r\n                            cy: 0,\r\n                            rx: 0,\r\n                            ry: 0,\r\n                            colorStops: []\r\n                        };\r\n                        \r\n                        // center\r\n                        m2 = m1[2].match(/(\\d{1,3})%?\\s(\\d{1,3})%?/);\r\n                        if(m2){\r\n                            gradient.cx = (m2[1] * bounds.width) / 100;\r\n                            gradient.cy = (m2[2] * bounds.height) / 100;\r\n                        }\r\n                        \r\n                        // size\r\n                        m2 = m1[3].match(/\\w+/);\r\n                        m3 = m1[4].match(/[a-z\\-]*/);\r\n                        if(m2 && m3){\r\n                            switch(m3[0]){\r\n                                case 'farthest-corner':\r\n                                case 'cover': // is equivalent to farthest-corner\r\n                                case '': // mozilla removes \"cover\" from definition :(\r\n                                    tl = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.cy, 2));\r\n                                    tr = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));\r\n                                    br = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));\r\n                                    bl = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.cy, 2));\r\n                                    gradient.rx = gradient.ry = Math.max(tl, tr, br, bl);\r\n                                    break;\r\n                                case 'closest-corner':\r\n                                    tl = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.cy, 2));\r\n                                    tr = Math.sqrt(Math.pow(gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));\r\n                                    br = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.y1 - gradient.cy, 2));\r\n                                    bl = Math.sqrt(Math.pow(gradient.x1 - gradient.cx, 2) + Math.pow(gradient.cy, 2));\r\n                                    gradient.rx = gradient.ry = Math.min(tl, tr, br, bl);\r\n                                    break;\r\n                                case 'farthest-side':\r\n                                    if(m2[0] === 'circle'){\r\n                                        gradient.rx = gradient.ry = Math.max(\r\n                                            gradient.cx,\r\n                                            gradient.cy,\r\n                                            gradient.x1 - gradient.cx,\r\n                                            gradient.y1 - gradient.cy\r\n                                        );\r\n                                    } else { // ellipse\r\n                                        \r\n                                        gradient.type = m2[0];\r\n                                        \r\n                                        gradient.rx = Math.max(\r\n                                            gradient.cx,\r\n                                            gradient.x1 - gradient.cx\r\n                                        );\r\n                                        gradient.ry = Math.max(\r\n                                            gradient.cy,\r\n                                            gradient.y1 - gradient.cy\r\n                                        );\r\n                                    }\r\n                                    break;\r\n                                case 'closest-side':\r\n                                case 'contain': // is equivalent to closest-side\r\n                                    if(m2[0] === 'circle'){\r\n                                        gradient.rx = gradient.ry = Math.min(\r\n                                            gradient.cx,\r\n                                            gradient.cy,\r\n                                            gradient.x1 - gradient.cx,\r\n                                            gradient.y1 - gradient.cy\r\n                                        );\r\n                                    } else { // ellipse\r\n                                        \r\n                                        gradient.type = m2[0];\r\n                                        \r\n                                        gradient.rx = Math.min(\r\n                                            gradient.cx,\r\n                                            gradient.x1 - gradient.cx\r\n                                        );\r\n                                        gradient.ry = Math.min(\r\n                                            gradient.cy,\r\n                                            gradient.y1 - gradient.cy\r\n                                        );\r\n                                    }\r\n                                    break;\r\n                                \r\n                                // TODO: add support for \"30px 40px\" sizes (webkit only)\r\n                            }\r\n                        }\r\n                        \r\n                        // color stops\r\n                        m2 = m1[5].match(/((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\)(?:\\s\\d{1,3}(?:%|px))?)+/g);\r\n                        if(m2){\r\n                            m2Len = m2.length;\r\n                            step = 1 / Math.max(m2Len - 1, 1);\r\n                            for(i = 0; i < m2Len; i+=1){\r\n                                m3 = m2[i].match(/((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\s*(\\d{1,3})?(%|px)?/);\r\n                                if(m3[2]){\r\n                                    stop = parseFloat(m3[2]);\r\n                                    if(m3[3] === '%'){\r\n                                        stop /= 100;\r\n                                    } else { // px - stupid opera\r\n                                        stop /= bounds.width;\r\n                                    }\r\n                                } else {\r\n                                    stop = i * step;\r\n                                }\r\n                                gradient.colorStops.push({\r\n                                    color: m3[1],\r\n                                    stop: stop\r\n                                });\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            \r\n            return gradient;\r\n        };\r\n        \r\n        function addScrollStops(grad) {\r\n            return function(colorStop) {\r\n                try {\r\n                    grad.addColorStop(colorStop.stop, colorStop.color);\r\n                }\r\n                catch(e) {\r\n                    Util.log(['failed to add color stop: ', e, '; tried to add: ', colorStop]);\r\n                }\r\n            };\r\n        }\r\n        \r\n        Generate.Gradient = function(src, bounds) {\r\n            if(bounds.width === 0 || bounds.height === 0) {\r\n                return;\r\n            }\r\n            \r\n            var canvas = document.createElement('canvas'),\r\n                ctx = canvas.getContext('2d'),\r\n                gradient, grad;\r\n            \r\n            canvas.width = bounds.width;\r\n            canvas.height = bounds.height;\r\n            \r\n            // TODO: add support for multi defined background gradients\r\n            gradient = _html2canvas.Generate.parseGradient(src, bounds);\r\n            \r\n            if(gradient) {\r\n                switch(gradient.type) {\r\n                    case 'linear':\r\n                        grad = ctx.createLinearGradient(gradient.x0, gradient.y0, gradient.x1, gradient.y1);\r\n                        gradient.colorStops.forEach(addScrollStops(grad));\r\n                        ctx.fillStyle = grad;\r\n                        ctx.fillRect(0, 0, bounds.width, bounds.height);\r\n                        break;\r\n                    \r\n                    case 'circle':\r\n                        grad = ctx.createRadialGradient(gradient.cx, gradient.cy, 0, gradient.cx, gradient.cy, gradient.rx);\r\n                        gradient.colorStops.forEach(addScrollStops(grad));\r\n                        ctx.fillStyle = grad;\r\n                        ctx.fillRect(0, 0, bounds.width, bounds.height);\r\n                        break;\r\n                    \r\n                    case 'ellipse':\r\n                        var canvasRadial = document.createElement('canvas'),\r\n                            ctxRadial = canvasRadial.getContext('2d'),\r\n                            ri = Math.max(gradient.rx, gradient.ry),\r\n                            di = ri * 2;\r\n                        \r\n                        canvasRadial.width = canvasRadial.height = di;\r\n                        \r\n                        grad = ctxRadial.createRadialGradient(gradient.rx, gradient.ry, 0, gradient.rx, gradient.ry, ri);\r\n                        gradient.colorStops.forEach(addScrollStops(grad));\r\n                        \r\n                        ctxRadial.fillStyle = grad;\r\n                        ctxRadial.fillRect(0, 0, di, di);\r\n                        \r\n                        ctx.fillStyle = gradient.colorStops[gradient.colorStops.length - 1].color;\r\n                        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n                        ctx.drawImage(canvasRadial, gradient.cx - gradient.rx, gradient.cy - gradient.ry, 2 * gradient.rx, 2 * gradient.ry);\r\n                        break;\r\n                }\r\n            }\r\n            \r\n            return canvas;\r\n        };\r\n        \r\n        Generate.ListAlpha = function(number) {\r\n            var tmp = \"\",\r\n                modulus;\r\n            \r\n            do {\r\n                modulus = number % 26;\r\n                tmp = String.fromCharCode((modulus) + 64) + tmp;\r\n                number = number / 26;\r\n            }while((number*26) > 26);\r\n            \r\n            return tmp;\r\n        };\r\n        \r\n        Generate.ListRoman = function(number) {\r\n            var romanArray = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"],\r\n                decimal = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n                roman = \"\",\r\n                v,\r\n                len = romanArray.length;\r\n            \r\n            if (number <= 0 || number >= 4000) {\r\n                return number;\r\n            }\r\n            \r\n            for (v=0; v < len; v+=1) {\r\n                while (number >= decimal[v]) {\r\n                    number -= decimal[v];\r\n                    roman += romanArray[v];\r\n                }\r\n            }\r\n            \r\n            return roman;\r\n        };\r\n    })();\r\n    function h2cRenderContext(width, height) {\r\n        var storage = [];\r\n        return {\r\n            storage: storage,\r\n            width: width,\r\n            height: height,\r\n            clip: function() {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"clip\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            translate: function() {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"translate\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            fill: function() {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"fill\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            save: function() {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"save\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            restore: function() {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"restore\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            fillRect: function () {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"fillRect\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            createPattern: function() {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"createPattern\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            drawShape: function() {\r\n                \r\n                var shape = [];\r\n                \r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"drawShape\",\r\n                    'arguments': shape\r\n                });\r\n                \r\n                return {\r\n                    moveTo: function() {\r\n                        shape.push({\r\n                            name: \"moveTo\",\r\n                            'arguments': arguments\r\n                        });\r\n                    },\r\n                    lineTo: function() {\r\n                        shape.push({\r\n                            name: \"lineTo\",\r\n                            'arguments': arguments\r\n                        });\r\n                    },\r\n                    arcTo: function() {\r\n                        shape.push({\r\n                            name: \"arcTo\",\r\n                            'arguments': arguments\r\n                        });\r\n                    },\r\n                    bezierCurveTo: function() {\r\n                        shape.push({\r\n                            name: \"bezierCurveTo\",\r\n                            'arguments': arguments\r\n                        });\r\n                    },\r\n                    quadraticCurveTo: function() {\r\n                        shape.push({\r\n                            name: \"quadraticCurveTo\",\r\n                            'arguments': arguments\r\n                        });\r\n                    }\r\n                };\r\n                \r\n            },\r\n            drawImage: function () {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"drawImage\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            fillText: function () {\r\n                storage.push({\r\n                    type: \"function\",\r\n                    name: \"fillText\",\r\n                    'arguments': arguments\r\n                });\r\n            },\r\n            setVariable: function (variable, value) {\r\n                storage.push({\r\n                    type: \"variable\",\r\n                    name: variable,\r\n                    'arguments': value\r\n                });\r\n                return value;\r\n            }\r\n        };\r\n    }\r\n    _html2canvas.Parse = function (images, options) {\r\n        window.scroll(0,0);\r\n        \r\n        var element = (( options.elements === undefined ) ? document.body : options.elements[0]), // select body by default\r\n            numDraws = 0,\r\n            doc = element.ownerDocument,\r\n            Util = _html2canvas.Util,\r\n            support = Util.Support(options, doc),\r\n            ignoreElementsRegExp = new RegExp(\"(\" + options.ignoreElements + \")\"),\r\n            body = doc.body,\r\n            getCSS = Util.getCSS,\r\n            pseudoHide = \"___html2canvas___pseudoelement\",\r\n            hidePseudoElements = doc.createElement('style');\r\n        \r\n        hidePseudoElements.innerHTML = '.' + pseudoHide + '-before:before { content: \"\" !important; display: none !important; }' +\r\n            '.' + pseudoHide + '-after:after { content: \"\" !important; display: none !important; }';\r\n        \r\n        body.appendChild(hidePseudoElements);\r\n        \r\n        images = images || {};\r\n        \r\n        function documentWidth () {\r\n            return Math.max(\r\n                Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\r\n                Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\r\n                Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\r\n            );\r\n        }\r\n        \r\n        function documentHeight () {\r\n            return Math.max(\r\n                Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\r\n                Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\r\n                Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\r\n            );\r\n        }\r\n        \r\n        function getCSSInt(element, attribute) {\r\n            var val = parseInt(getCSS(element, attribute), 10);\r\n            return (isNaN(val)) ? 0 : val; // borders in old IE are throwing 'medium' for demo.html\r\n        }\r\n        \r\n        function renderRect (ctx, x, y, w, h, bgcolor) {\r\n            if (bgcolor !== \"transparent\"){\r\n                ctx.setVariable(\"fillStyle\", bgcolor);\r\n                ctx.fillRect(x, y, w, h);\r\n                numDraws+=1;\r\n            }\r\n        }\r\n        \r\n        function capitalize(m, p1, p2) {\r\n            if (m.length > 0) {\r\n                return p1 + p2.toUpperCase();\r\n            }\r\n        }\r\n        \r\n        function textTransform (text, transform) {\r\n            switch(transform){\r\n                case \"lowercase\":\r\n                    return text.toLowerCase();\r\n                case \"capitalize\":\r\n                    return text.replace( /(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\r\n                case \"uppercase\":\r\n                    return text.toUpperCase();\r\n                default:\r\n                    return text;\r\n            }\r\n        }\r\n        \r\n        function noLetterSpacing(letter_spacing) {\r\n            return (/^(normal|none|0px)$/.test(letter_spacing));\r\n        }\r\n        \r\n        function drawText(currentText, x, y, ctx){\r\n            if (currentText !== null && Util.trimText(currentText).length > 0) {\r\n                ctx.fillText(currentText, x, y);\r\n                numDraws+=1;\r\n            }\r\n        }\r\n        \r\n        function setTextVariables(ctx, el, text_decoration, color) {\r\n            var align = false,\r\n                bold = getCSS(el, \"fontWeight\"),\r\n                family = getCSS(el, \"fontFamily\"),\r\n                size = getCSS(el, \"fontSize\"),\r\n                shadows = Util.parseTextShadows(getCSS(el, \"textShadow\"));\r\n            \r\n            switch(parseInt(bold, 10)){\r\n                case 401:\r\n                    bold = \"bold\";\r\n                    break;\r\n                case 400:\r\n                    bold = \"normal\";\r\n                    break;\r\n            }\r\n            \r\n            ctx.setVariable(\"fillStyle\", color);\r\n            ctx.setVariable(\"font\", [getCSS(el, \"fontStyle\"), getCSS(el, \"fontVariant\"), bold, size, family].join(\" \"));\r\n            ctx.setVariable(\"textAlign\", (align) ? \"right\" : \"left\");\r\n            \r\n            if (shadows.length) {\r\n                // TODO: support multiple text shadows\r\n                // apply the first text shadow\r\n                ctx.setVariable(\"shadowColor\", shadows[0].color);\r\n                ctx.setVariable(\"shadowOffsetX\", shadows[0].offsetX);\r\n                ctx.setVariable(\"shadowOffsetY\", shadows[0].offsetY);\r\n                ctx.setVariable(\"shadowBlur\", shadows[0].blur);\r\n            }\r\n            \r\n            if (text_decoration !== \"none\"){\r\n                return Util.Font(family, size, doc);\r\n            }\r\n        }\r\n        \r\n        function renderTextDecoration(ctx, text_decoration, bounds, metrics, color) {\r\n            switch(text_decoration) {\r\n                case \"underline\":\r\n                    // Draws a line at the baseline of the font\r\n                    // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\r\n                    renderRect(ctx, bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, color);\r\n                    break;\r\n                case \"overline\":\r\n                    renderRect(ctx, bounds.left, Math.round(bounds.top), bounds.width, 1, color);\r\n                    break;\r\n                case \"line-through\":\r\n                    // TODO try and find exact position for line-through\r\n                    renderRect(ctx, bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, color);\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        function getTextBounds(state, text, textDecoration, isLast, transform) {\r\n            var bounds;\r\n            if (support.rangeBounds && !transform) {\r\n                if (textDecoration !== \"none\" || Util.trimText(text).length !== 0) {\r\n                    bounds = textRangeBounds(text, state.node, state.textOffset);\r\n                }\r\n                state.textOffset += text.length;\r\n            } else if (state.node && typeof state.node.nodeValue === \"string\" ){\r\n                var newTextNode = (isLast) ? state.node.splitText(text.length) : null;\r\n                bounds = textWrapperBounds(state.node, transform);\r\n                state.node = newTextNode;\r\n            }\r\n            return bounds;\r\n        }\r\n        \r\n        function textRangeBounds(text, textNode, textOffset) {\r\n            var range = doc.createRange();\r\n            range.setStart(textNode, textOffset);\r\n            range.setEnd(textNode, textOffset + text.length);\r\n            return range.getBoundingClientRect();\r\n        }\r\n        \r\n        function textWrapperBounds(oldTextNode, transform) {\r\n            var parent = oldTextNode.parentNode,\r\n                wrapElement = doc.createElement('wrapper'),\r\n                backupText = oldTextNode.cloneNode(true);\r\n            \r\n            wrapElement.appendChild(oldTextNode.cloneNode(true));\r\n            parent.replaceChild(wrapElement, oldTextNode);\r\n            \r\n            var bounds = transform ? Util.OffsetBounds(wrapElement) : Util.Bounds(wrapElement);\r\n            parent.replaceChild(backupText, wrapElement);\r\n            return bounds;\r\n        }\r\n        \r\n        function renderText(el, textNode, stack) {\r\n            var ctx = stack.ctx,\r\n                color = getCSS(el, \"color\"),\r\n                textDecoration = getCSS(el, \"textDecoration\"),\r\n                textAlign = getCSS(el, \"textAlign\"),\r\n                metrics,\r\n                textList,\r\n                state = {\r\n                    node: textNode,\r\n                    textOffset: 0\r\n                };\r\n            \r\n            if (Util.trimText(textNode.nodeValue).length > 0) {\r\n                textNode.nodeValue = textTransform(textNode.nodeValue, getCSS(el, \"textTransform\"));\r\n                textAlign = textAlign.replace([\"-webkit-auto\"],[\"auto\"]);\r\n                \r\n                textList = (!options.letterRendering && /^(left|right|justify|auto)$/.test(textAlign) && noLetterSpacing(getCSS(el, \"letterSpacing\"))) ?\r\n                    textNode.nodeValue.split(/(\\b| )/)\r\n                    : textNode.nodeValue.split(\"\");\r\n                \r\n                metrics = setTextVariables(ctx, el, textDecoration, color);\r\n                \r\n                if (options.chinese) {\r\n                    textList.forEach(function(word, index) {\r\n                        if (/.*[\\u4E00-\\u9FA5].*$/.test(word)) {\r\n                            word = word.split(\"\");\r\n                            word.unshift(index, 1);\r\n                            textList.splice.apply(textList, word);\r\n                        }\r\n                    });\r\n                }\r\n                \r\n                textList.forEach(function(text, index) {\r\n                    var bounds = getTextBounds(state, text, textDecoration, (index < textList.length - 1), stack.transform.matrix);\r\n                    if (bounds) {\r\n                        drawText(text, bounds.left, bounds.bottom, ctx);\r\n                        renderTextDecoration(ctx, textDecoration, bounds, metrics, color);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        \r\n        function listPosition (element, val) {\r\n            var boundElement = doc.createElement( \"boundelement\" ),\r\n                originalType,\r\n                bounds;\r\n            \r\n            boundElement.style.display = \"inline\";\r\n            \r\n            originalType = element.style.listStyleType;\r\n            element.style.listStyleType = \"none\";\r\n            \r\n            boundElement.appendChild(doc.createTextNode(val));\r\n            \r\n            element.insertBefore(boundElement, element.firstChild);\r\n            \r\n            bounds = Util.Bounds(boundElement);\r\n            element.removeChild(boundElement);\r\n            element.style.listStyleType = originalType;\r\n            return bounds;\r\n        }\r\n        \r\n        function elementIndex(el) {\r\n            var i = -1,\r\n                count = 1,\r\n                childs = el.parentNode.childNodes;\r\n            \r\n            if (el.parentNode) {\r\n                while(childs[++i] !== el) {\r\n                    if (childs[i].nodeType === 1) {\r\n                        count++;\r\n                    }\r\n                }\r\n                return count;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n        \r\n        function listItemText(element, type) {\r\n            var currentIndex = elementIndex(element), text;\r\n            switch(type){\r\n                case \"decimal\":\r\n                    text = currentIndex;\r\n                    break;\r\n                case \"decimal-leading-zero\":\r\n                    text = (currentIndex.toString().length === 1) ? currentIndex = \"0\" + currentIndex.toString() : currentIndex.toString();\r\n                    break;\r\n                case \"upper-roman\":\r\n                    text = _html2canvas.Generate.ListRoman( currentIndex );\r\n                    break;\r\n                case \"lower-roman\":\r\n                    text = _html2canvas.Generate.ListRoman( currentIndex ).toLowerCase();\r\n                    break;\r\n                case \"lower-alpha\":\r\n                    text = _html2canvas.Generate.ListAlpha( currentIndex ).toLowerCase();\r\n                    break;\r\n                case \"upper-alpha\":\r\n                    text = _html2canvas.Generate.ListAlpha( currentIndex );\r\n                    break;\r\n            }\r\n            \r\n            return text + \". \";\r\n        }\r\n        \r\n        function renderListItem(element, stack, elBounds) {\r\n            var x,\r\n                text,\r\n                ctx = stack.ctx,\r\n                type = getCSS(element, \"listStyleType\"),\r\n                listBounds;\r\n            \r\n            if (/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(type)) {\r\n                text = listItemText(element, type);\r\n                listBounds = listPosition(element, text);\r\n                setTextVariables(ctx, element, \"none\", getCSS(element, \"color\"));\r\n                \r\n                if (getCSS(element, \"listStylePosition\") === \"inside\") {\r\n                    ctx.setVariable(\"textAlign\", \"left\");\r\n                    x = elBounds.left;\r\n                } else {\r\n                    return;\r\n                }\r\n                \r\n                drawText(text, x, listBounds.bottom, ctx);\r\n            }\r\n        }\r\n        \r\n        function loadImage (src){\r\n            var img = images[src];\r\n            return (img && img.succeeded === true) ? img.img : false;\r\n        }\r\n        \r\n        function clipBounds(src, dst){\r\n            var x = Math.max(src.left, dst.left),\r\n                y = Math.max(src.top, dst.top),\r\n                x2 = Math.min((src.left + src.width), (dst.left + dst.width)),\r\n                y2 = Math.min((src.top + src.height), (dst.top + dst.height));\r\n            \r\n            return {\r\n                left:x,\r\n                top:y,\r\n                width:x2-x,\r\n                height:y2-y\r\n            };\r\n        }\r\n        \r\n        function setZ(element, stack, parentStack){\r\n            var newContext,\r\n                isPositioned = stack.cssPosition !== 'static',\r\n                zIndex = isPositioned ? getCSS(element, 'zIndex') : 'auto',\r\n                opacity = getCSS(element, 'opacity'),\r\n                isFloated = getCSS(element, 'cssFloat') !== 'none';\r\n            \r\n            // https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context\r\n            // When a new stacking context should be created:\r\n            // the root element (HTML),\r\n            // positioned (absolutely or relatively) with a z-index value other than \"auto\",\r\n            // elements with an opacity value less than 1. (See the specification for opacity),\r\n            // on mobile WebKit and Chrome 22+, position: fixed always creates a new stacking context, even when z-index is \"auto\" (See this post)\r\n            \r\n            stack.zIndex = newContext = h2czContext(zIndex);\r\n            newContext.isPositioned = isPositioned;\r\n            newContext.isFloated = isFloated;\r\n            newContext.opacity = opacity;\r\n            newContext.ownStacking = (zIndex !== 'auto' || opacity < 1);\r\n            \r\n            if (parentStack) {\r\n                parentStack.zIndex.children.push(stack);\r\n            }\r\n        }\r\n        \r\n        function renderImage(ctx, element, image, bounds, borders) {\r\n            \r\n            var paddingLeft = getCSSInt(element, 'paddingLeft'),\r\n                paddingTop = getCSSInt(element, 'paddingTop'),\r\n                paddingRight = getCSSInt(element, 'paddingRight'),\r\n                paddingBottom = getCSSInt(element, 'paddingBottom');\r\n            \r\n            drawImage(\r\n                ctx,\r\n                image,\r\n                0, //sx\r\n                0, //sy\r\n                image.width, //sw\r\n                image.height, //sh\r\n                bounds.left + paddingLeft + borders[3].width, //dx\r\n                bounds.top + paddingTop + borders[0].width, // dy\r\n                bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight), //dw\r\n                bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom) //dh\r\n            );\r\n        }\r\n        \r\n        function getBorderData(element) {\r\n            return [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side) {\r\n                return {\r\n                    width: getCSSInt(element, 'border' + side + 'Width'),\r\n                    color: getCSS(element, 'border' + side + 'Color')\r\n                };\r\n            });\r\n        }\r\n        \r\n        function getBorderRadiusData(element) {\r\n            return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\r\n                return getCSS(element, 'border' + side + 'Radius');\r\n            });\r\n        }\r\n        \r\n        var getCurvePoints = (function(kappa) {\r\n            \r\n            return function(x, y, r1, r2) {\r\n                var ox = (r1) * kappa, // control point offset horizontal\r\n                    oy = (r2) * kappa, // control point offset vertical\r\n                    xm = x + r1, // x-middle\r\n                    ym = y + r2; // y-middle\r\n                return {\r\n                    topLeft: bezierCurve({\r\n                        x:x,\r\n                        y:ym\r\n                    }, {\r\n                        x:x,\r\n                        y:ym - oy\r\n                    }, {\r\n                        x:xm - ox,\r\n                        y:y\r\n                    }, {\r\n                        x:xm,\r\n                        y:y\r\n                    }),\r\n                    topRight: bezierCurve({\r\n                        x:x,\r\n                        y:y\r\n                    }, {\r\n                        x:x + ox,\r\n                        y:y\r\n                    }, {\r\n                        x:xm,\r\n                        y:ym - oy\r\n                    }, {\r\n                        x:xm,\r\n                        y:ym\r\n                    }),\r\n                    bottomRight: bezierCurve({\r\n                        x:xm,\r\n                        y:y\r\n                    }, {\r\n                        x:xm,\r\n                        y:y + oy\r\n                    }, {\r\n                        x:x + ox,\r\n                        y:ym\r\n                    }, {\r\n                        x:x,\r\n                        y:ym\r\n                    }),\r\n                    bottomLeft: bezierCurve({\r\n                        x:xm,\r\n                        y:ym\r\n                    }, {\r\n                        x:xm - ox,\r\n                        y:ym\r\n                    }, {\r\n                        x:x,\r\n                        y:y + oy\r\n                    }, {\r\n                        x:x,\r\n                        y:y\r\n                    })\r\n                };\r\n            };\r\n        })(4 * ((Math.sqrt(2) - 1) / 3));\r\n        \r\n        function bezierCurve(start, startControl, endControl, end) {\r\n            \r\n            var lerp = function (a, b, t) {\r\n                return {\r\n                    x:a.x + (b.x - a.x) * t,\r\n                    y:a.y + (b.y - a.y) * t\r\n                };\r\n            };\r\n            \r\n            return {\r\n                start: start,\r\n                startControl: startControl,\r\n                endControl: endControl,\r\n                end: end,\r\n                subdivide: function(t) {\r\n                    var ab = lerp(start, startControl, t),\r\n                        bc = lerp(startControl, endControl, t),\r\n                        cd = lerp(endControl, end, t),\r\n                        abbc = lerp(ab, bc, t),\r\n                        bccd = lerp(bc, cd, t),\r\n                        dest = lerp(abbc, bccd, t);\r\n                    return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\r\n                },\r\n                curveTo: function(borderArgs) {\r\n                    borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\r\n                },\r\n                curveToReversed: function(borderArgs) {\r\n                    borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\r\n                }\r\n            };\r\n        }\r\n        \r\n        function parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\r\n            if (radius1[0] > 0 || radius1[1] > 0) {\r\n                borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\r\n                corner1[0].curveTo(borderArgs);\r\n                corner1[1].curveTo(borderArgs);\r\n            } else {\r\n                borderArgs.push([\"line\", x, y]);\r\n            }\r\n            \r\n            if (radius2[0] > 0 || radius2[1] > 0) {\r\n                borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\r\n            }\r\n        }\r\n        \r\n        function drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\r\n            var borderArgs = [];\r\n            \r\n            if (radius1[0] > 0 || radius1[1] > 0) {\r\n                borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\r\n                outer1[1].curveTo(borderArgs);\r\n            } else {\r\n                borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\r\n            }\r\n            \r\n            if (radius2[0] > 0 || radius2[1] > 0) {\r\n                borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\r\n                outer2[0].curveTo(borderArgs);\r\n                borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\r\n                inner2[0].curveToReversed(borderArgs);\r\n            } else {\r\n                borderArgs.push([ \"line\", borderData.c2[0], borderData.c2[1]]);\r\n                borderArgs.push([ \"line\", borderData.c3[0], borderData.c3[1]]);\r\n            }\r\n            \r\n            if (radius1[0] > 0 || radius1[1] > 0) {\r\n                borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\r\n                inner1[1].curveToReversed(borderArgs);\r\n            } else {\r\n                borderArgs.push([ \"line\", borderData.c4[0], borderData.c4[1]]);\r\n            }\r\n            \r\n            return borderArgs;\r\n        }\r\n        \r\n        function calculateCurvePoints(bounds, borderRadius, borders) {\r\n            \r\n            var x = bounds.left,\r\n                y = bounds.top,\r\n                width = bounds.width,\r\n                height = bounds.height,\r\n                \r\n                tlh = borderRadius[0][0],\r\n                tlv = borderRadius[0][1],\r\n                trh = borderRadius[1][0],\r\n                trv = borderRadius[1][1],\r\n                brh = borderRadius[2][0],\r\n                brv = borderRadius[2][1],\r\n                blh = borderRadius[3][0],\r\n                blv = borderRadius[3][1],\r\n                \r\n                topWidth = width - trh,\r\n                rightHeight = height - brv,\r\n                bottomWidth = width - brh,\r\n                leftHeight = height - blv;\r\n            \r\n            return {\r\n                topLeftOuter: getCurvePoints(\r\n                    x,\r\n                    y,\r\n                    tlh,\r\n                    tlv\r\n                ).topLeft.subdivide(0.5),\r\n                \r\n                topLeftInner: getCurvePoints(\r\n                    x + borders[3].width,\r\n                    y + borders[0].width,\r\n                    Math.max(0, tlh - borders[3].width),\r\n                    Math.max(0, tlv - borders[0].width)\r\n                ).topLeft.subdivide(0.5),\r\n                \r\n                topRightOuter: getCurvePoints(\r\n                    x + topWidth,\r\n                    y,\r\n                    trh,\r\n                    trv\r\n                ).topRight.subdivide(0.5),\r\n                \r\n                topRightInner: getCurvePoints(\r\n                    x + Math.min(topWidth, width + borders[3].width),\r\n                    y + borders[0].width,\r\n                    (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width,\r\n                    trv - borders[0].width\r\n                ).topRight.subdivide(0.5),\r\n                \r\n                bottomRightOuter: getCurvePoints(\r\n                    x + bottomWidth,\r\n                    y + rightHeight,\r\n                    brh,\r\n                    brv\r\n                ).bottomRight.subdivide(0.5),\r\n                \r\n                bottomRightInner: getCurvePoints(\r\n                    x + Math.min(bottomWidth, width + borders[3].width),\r\n                    y + Math.min(rightHeight, height + borders[0].width),\r\n                    Math.max(0, brh - borders[1].width),\r\n                    Math.max(0, brv - borders[2].width)\r\n                ).bottomRight.subdivide(0.5),\r\n                \r\n                bottomLeftOuter: getCurvePoints(\r\n                    x,\r\n                    y + leftHeight,\r\n                    blh,\r\n                    blv\r\n                ).bottomLeft.subdivide(0.5),\r\n                \r\n                bottomLeftInner: getCurvePoints(\r\n                    x + borders[3].width,\r\n                    y + leftHeight,\r\n                    Math.max(0, blh - borders[3].width),\r\n                    Math.max(0, blv - borders[2].width)\r\n                ).bottomLeft.subdivide(0.5)\r\n            };\r\n        }\r\n        \r\n        function getBorderClip(element, borderPoints, borders, radius, bounds) {\r\n            var backgroundClip = getCSS(element, 'backgroundClip'),\r\n                borderArgs = [];\r\n            \r\n            switch(backgroundClip) {\r\n                case \"content-box\":\r\n                case \"padding-box\":\r\n                    parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\r\n                    parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\r\n                    parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\r\n                    parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\r\n                    break;\r\n                \r\n                default:\r\n                    parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\r\n                    parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\r\n                    parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\r\n                    parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\r\n                    break;\r\n            }\r\n            \r\n            return borderArgs;\r\n        }\r\n        \r\n        function parseBorders(element, bounds, borders){\r\n            var x = bounds.left,\r\n                y = bounds.top,\r\n                width = bounds.width,\r\n                height = bounds.height,\r\n                borderSide,\r\n                bx,\r\n                by,\r\n                bw,\r\n                bh,\r\n                borderArgs,\r\n                // http://www.w3.org/TR/css3-background/#the-border-radius\r\n                borderRadius = getBorderRadiusData(element),\r\n                borderPoints = calculateCurvePoints(bounds, borderRadius, borders),\r\n                borderData = {\r\n                    clip: getBorderClip(element, borderPoints, borders, borderRadius, bounds),\r\n                    borders: []\r\n                };\r\n            \r\n            for (borderSide = 0; borderSide < 4; borderSide++) {\r\n                \r\n                if (borders[borderSide].width > 0) {\r\n                    bx = x;\r\n                    by = y;\r\n                    bw = width;\r\n                    bh = height - (borders[2].width);\r\n                    \r\n                    switch(borderSide) {\r\n                        case 0:\r\n                            // top border\r\n                            bh = borders[0].width;\r\n                            \r\n                            borderArgs = drawSide({\r\n                                    c1: [bx, by],\r\n                                    c2: [bx + bw, by],\r\n                                    c3: [bx + bw - borders[1].width, by + bh],\r\n                                    c4: [bx + borders[3].width, by + bh]\r\n                                }, borderRadius[0], borderRadius[1],\r\n                                borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\r\n                            break;\r\n                        case 1:\r\n                            // right border\r\n                            bx = x + width - (borders[1].width);\r\n                            bw = borders[1].width;\r\n                            \r\n                            borderArgs = drawSide({\r\n                                    c1: [bx + bw, by],\r\n                                    c2: [bx + bw, by + bh + borders[2].width],\r\n                                    c3: [bx, by + bh],\r\n                                    c4: [bx, by + borders[0].width]\r\n                                }, borderRadius[1], borderRadius[2],\r\n                                borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\r\n                            break;\r\n                        case 2:\r\n                            // bottom border\r\n                            by = (by + height) - (borders[2].width);\r\n                            bh = borders[2].width;\r\n                            \r\n                            borderArgs = drawSide({\r\n                                    c1: [bx + bw, by + bh],\r\n                                    c2: [bx, by + bh],\r\n                                    c3: [bx + borders[3].width, by],\r\n                                    c4: [bx + bw - borders[3].width, by]\r\n                                }, borderRadius[2], borderRadius[3],\r\n                                borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\r\n                            break;\r\n                        case 3:\r\n                            // left border\r\n                            bw = borders[3].width;\r\n                            \r\n                            borderArgs = drawSide({\r\n                                    c1: [bx, by + bh + borders[2].width],\r\n                                    c2: [bx, by],\r\n                                    c3: [bx + bw, by + borders[0].width],\r\n                                    c4: [bx + bw, by + bh]\r\n                                }, borderRadius[3], borderRadius[0],\r\n                                borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\r\n                            break;\r\n                    }\r\n                    \r\n                    borderData.borders.push({\r\n                        args: borderArgs,\r\n                        color: borders[borderSide].color\r\n                    });\r\n                    \r\n                }\r\n            }\r\n            \r\n            return borderData;\r\n        }\r\n        \r\n        function createShape(ctx, args) {\r\n            var shape = ctx.drawShape();\r\n            args.forEach(function(border, index) {\r\n                shape[(index === 0) ? \"moveTo\" : border[0] + \"To\" ].apply(null, border.slice(1));\r\n            });\r\n            return shape;\r\n        }\r\n        \r\n        function renderBorders(ctx, borderArgs, color) {\r\n            if (color !== \"transparent\") {\r\n                ctx.setVariable( \"fillStyle\", color);\r\n                createShape(ctx, borderArgs);\r\n                ctx.fill();\r\n                numDraws+=1;\r\n            }\r\n        }\r\n        \r\n        function renderFormValue (el, bounds, stack){\r\n            \r\n            var valueWrap = doc.createElement('valuewrap'),\r\n                cssPropertyArray = ['lineHeight','textAlign','fontFamily','color','fontSize','paddingLeft','paddingTop','width','height','border','borderLeftWidth','borderTopWidth'],\r\n                textValue,\r\n                textNode;\r\n            \r\n            cssPropertyArray.forEach(function(property) {\r\n                try {\r\n                    valueWrap.style[property] = getCSS(el, property);\r\n                } catch(e) {\r\n                    // Older IE has issues with \"border\"\r\n                    Util.log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\r\n                }\r\n            });\r\n            \r\n            valueWrap.style.borderColor = \"black\";\r\n            valueWrap.style.borderStyle = \"solid\";\r\n            valueWrap.style.display = \"block\";\r\n            valueWrap.style.position = \"absolute\";\r\n            \r\n            if (/^(submit|reset|button|text|password)$/.test(el.type) || el.nodeName === \"SELECT\"){\r\n                valueWrap.style.lineHeight = getCSS(el, \"height\");\r\n            }\r\n            \r\n            valueWrap.style.top = bounds.top + \"px\";\r\n            valueWrap.style.left = bounds.left + \"px\";\r\n            \r\n            textValue = (el.nodeName === \"SELECT\") ? (el.options[el.selectedIndex] || 0).text : el.value;\r\n            if(!textValue) {\r\n                textValue = el.placeholder;\r\n            }\r\n            \r\n            textNode = doc.createTextNode(textValue);\r\n            \r\n            valueWrap.appendChild(textNode);\r\n            body.appendChild(valueWrap);\r\n            \r\n            renderText(el, textNode, stack);\r\n            body.removeChild(valueWrap);\r\n        }\r\n        \r\n        function drawImage (ctx) {\r\n            ctx.drawImage.apply(ctx, Array.prototype.slice.call(arguments, 1));\r\n            numDraws+=1;\r\n        }\r\n        \r\n        function getPseudoElement(el, which) {\r\n            var elStyle = window.getComputedStyle(el, which);\r\n            if(!elStyle || !elStyle.content || elStyle.content === \"none\" || elStyle.content === \"-moz-alt-content\" || elStyle.display === \"none\") {\r\n                return;\r\n            }\r\n            var content = elStyle.content + '',\r\n                first = content.substr( 0, 1 );\r\n            //strips quotes\r\n            if(first === content.substr( content.length - 1 ) && first.match(/'|\"/)) {\r\n                content = content.substr( 1, content.length - 2 );\r\n            }\r\n            \r\n            var isImage = content.substr( 0, 3 ) === 'url',\r\n                elps = document.createElement( isImage ? 'img' : 'span' );\r\n            \r\n            elps.className = pseudoHide + \"-before \" + pseudoHide + \"-after\";\r\n            \r\n            Object.keys(elStyle).filter(indexedProperty).forEach(function(prop) {\r\n                // Prevent assigning of read only CSS Rules, ex. length, parentRule\r\n                try {\r\n                    elps.style[prop] = elStyle[prop];\r\n                } catch (e) {\r\n                    Util.log(['Tried to assign readonly property ', prop, 'Error:', e]);\r\n                }\r\n            });\r\n            \r\n            if(isImage) {\r\n                elps.src = Util.parseBackgroundImage(content)[0].args[0];\r\n            } else {\r\n                elps.innerHTML = content;\r\n            }\r\n            return elps;\r\n        }\r\n        \r\n        function indexedProperty(property) {\r\n            return (isNaN(window.parseInt(property, 10)));\r\n        }\r\n        \r\n        function injectPseudoElements(el, stack) {\r\n            var before = getPseudoElement(el, ':before'),\r\n                after = getPseudoElement(el, ':after');\r\n            if(!before && !after) {\r\n                return;\r\n            }\r\n            \r\n            if(before) {\r\n                el.className += \" \" + pseudoHide + \"-before\";\r\n                el.parentNode.insertBefore(before, el);\r\n                parseElement(before, stack, true);\r\n                el.parentNode.removeChild(before);\r\n                el.className = el.className.replace(pseudoHide + \"-before\", \"\").trim();\r\n            }\r\n            \r\n            if (after) {\r\n                el.className += \" \" + pseudoHide + \"-after\";\r\n                el.appendChild(after);\r\n                parseElement(after, stack, true);\r\n                el.removeChild(after);\r\n                el.className = el.className.replace(pseudoHide + \"-after\", \"\").trim();\r\n            }\r\n            \r\n        }\r\n        \r\n        function renderBackgroundRepeat(ctx, image, backgroundPosition, bounds) {\r\n            var offsetX = Math.round(bounds.left + backgroundPosition.left),\r\n                offsetY = Math.round(bounds.top + backgroundPosition.top);\r\n            \r\n            ctx.createPattern(image);\r\n            ctx.translate(offsetX, offsetY);\r\n            ctx.fill();\r\n            ctx.translate(-offsetX, -offsetY);\r\n        }\r\n        \r\n        function backgroundRepeatShape(ctx, image, backgroundPosition, bounds, left, top, width, height) {\r\n            var args = [];\r\n            args.push([\"line\", Math.round(left), Math.round(top)]);\r\n            args.push([\"line\", Math.round(left + width), Math.round(top)]);\r\n            args.push([\"line\", Math.round(left + width), Math.round(height + top)]);\r\n            args.push([\"line\", Math.round(left), Math.round(height + top)]);\r\n            createShape(ctx, args);\r\n            ctx.save();\r\n            ctx.clip();\r\n            renderBackgroundRepeat(ctx, image, backgroundPosition, bounds);\r\n            ctx.restore();\r\n        }\r\n        \r\n        function renderBackgroundColor(ctx, backgroundBounds, bgcolor) {\r\n            renderRect(\r\n                ctx,\r\n                backgroundBounds.left,\r\n                backgroundBounds.top,\r\n                backgroundBounds.width,\r\n                backgroundBounds.height,\r\n                bgcolor\r\n            );\r\n        }\r\n        \r\n        function renderBackgroundRepeating(el, bounds, ctx, image, imageIndex) {\r\n            var backgroundSize = Util.BackgroundSize(el, bounds, image, imageIndex),\r\n                backgroundPosition = Util.BackgroundPosition(el, bounds, image, imageIndex, backgroundSize),\r\n                backgroundRepeat = getCSS(el, \"backgroundRepeat\").split(\",\").map(Util.trimText);\r\n            \r\n            image = resizeImage(image, backgroundSize);\r\n            \r\n            backgroundRepeat = backgroundRepeat[imageIndex] || backgroundRepeat[0];\r\n            \r\n            switch (backgroundRepeat) {\r\n                case \"repeat-x\":\r\n                    backgroundRepeatShape(ctx, image, backgroundPosition, bounds,\r\n                        bounds.left, bounds.top + backgroundPosition.top, 99999, image.height);\r\n                    break;\r\n                \r\n                case \"repeat-y\":\r\n                    backgroundRepeatShape(ctx, image, backgroundPosition, bounds,\r\n                        bounds.left + backgroundPosition.left, bounds.top, image.width, 99999);\r\n                    break;\r\n                \r\n                case \"no-repeat\":\r\n                    backgroundRepeatShape(ctx, image, backgroundPosition, bounds,\r\n                        bounds.left + backgroundPosition.left, bounds.top + backgroundPosition.top, image.width, image.height);\r\n                    break;\r\n                \r\n                default:\r\n                    renderBackgroundRepeat(ctx, image, backgroundPosition, {\r\n                        top: bounds.top,\r\n                        left: bounds.left,\r\n                        width: image.width,\r\n                        height: image.height\r\n                    });\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        function renderBackgroundImage(element, bounds, ctx) {\r\n            var backgroundImage = getCSS(element, \"backgroundImage\"),\r\n                backgroundImages = Util.parseBackgroundImage(backgroundImage),\r\n                image,\r\n                imageIndex = backgroundImages.length;\r\n            \r\n            while(imageIndex--) {\r\n                backgroundImage = backgroundImages[imageIndex];\r\n                \r\n                if (!backgroundImage.args || backgroundImage.args.length === 0) {\r\n                    continue;\r\n                }\r\n                \r\n                var key = backgroundImage.method === 'url' ?\r\n                    backgroundImage.args[0] :\r\n                    backgroundImage.value;\r\n                \r\n                image = loadImage(key);\r\n                \r\n                // TODO add support for background-origin\r\n                if (image) {\r\n                    renderBackgroundRepeating(element, bounds, ctx, image, imageIndex);\r\n                } else {\r\n                    Util.log(\"html2canvas: Error loading background:\", backgroundImage);\r\n                }\r\n            }\r\n        }\r\n        \r\n        function resizeImage(image, bounds) {\r\n            if(image.width === bounds.width && image.height === bounds.height) {\r\n                return image;\r\n            }\r\n            \r\n            var ctx, canvas = doc.createElement('canvas');\r\n            canvas.width = bounds.width;\r\n            canvas.height = bounds.height;\r\n            ctx = canvas.getContext(\"2d\");\r\n            drawImage(ctx, image, 0, 0, image.width, image.height, 0, 0, bounds.width, bounds.height );\r\n            return canvas;\r\n        }\r\n        \r\n        function setOpacity(ctx, element, parentStack) {\r\n            return ctx.setVariable(\"globalAlpha\", getCSS(element, \"opacity\") * ((parentStack) ? parentStack.opacity : 1));\r\n        }\r\n        \r\n        function removePx(str) {\r\n            return str.replace(\"px\", \"\");\r\n        }\r\n        \r\n        var transformRegExp = /(matrix)\\((.+)\\)/;\r\n        \r\n        function getTransform(element, parentStack) {\r\n            var transform = getCSS(element, \"transform\") || getCSS(element, \"-webkit-transform\") || getCSS(element, \"-moz-transform\") || getCSS(element, \"-ms-transform\") || getCSS(element, \"-o-transform\");\r\n            var transformOrigin = getCSS(element, \"transform-origin\") || getCSS(element, \"-webkit-transform-origin\") || getCSS(element, \"-moz-transform-origin\") || getCSS(element, \"-ms-transform-origin\") || getCSS(element, \"-o-transform-origin\") || \"0px 0px\";\r\n            \r\n            transformOrigin = transformOrigin.split(\" \").map(removePx).map(Util.asFloat);\r\n            \r\n            var matrix;\r\n            if (transform && transform !== \"none\") {\r\n                var match = transform.match(transformRegExp);\r\n                if (match) {\r\n                    switch(match[1]) {\r\n                        case \"matrix\":\r\n                            matrix = match[2].split(\",\").map(Util.trimText).map(Util.asFloat);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return {\r\n                origin: transformOrigin,\r\n                matrix: matrix\r\n            };\r\n        }\r\n        \r\n        function createStack(element, parentStack, bounds, transform) {\r\n            var ctx = h2cRenderContext((!parentStack) ? documentWidth() : bounds.width , (!parentStack) ? documentHeight() : bounds.height),\r\n                stack = {\r\n                    ctx: ctx,\r\n                    opacity: setOpacity(ctx, element, parentStack),\r\n                    cssPosition: getCSS(element, \"position\"),\r\n                    borders: getBorderData(element),\r\n                    transform: transform,\r\n                    clip: (parentStack && parentStack.clip) ? Util.Extend( {}, parentStack.clip ) : null\r\n                };\r\n            \r\n            setZ(element, stack, parentStack);\r\n            \r\n            // TODO correct overflow for absolute content residing under a static position\r\n            if (options.useOverflow === true && /(hidden|scroll|auto)/.test(getCSS(element, \"overflow\")) === true && /(BODY)/i.test(element.nodeName) === false){\r\n                stack.clip = (stack.clip) ? clipBounds(stack.clip, bounds) : bounds;\r\n            }\r\n            \r\n            return stack;\r\n        }\r\n        \r\n        function getBackgroundBounds(borders, bounds, clip) {\r\n            var backgroundBounds = {\r\n                left: bounds.left + borders[3].width,\r\n                top: bounds.top + borders[0].width,\r\n                width: bounds.width - (borders[1].width + borders[3].width),\r\n                height: bounds.height - (borders[0].width + borders[2].width)\r\n            };\r\n            \r\n            if (clip) {\r\n                backgroundBounds = clipBounds(backgroundBounds, clip);\r\n            }\r\n            \r\n            return backgroundBounds;\r\n        }\r\n        \r\n        function getBounds(element, transform) {\r\n            var bounds = (transform.matrix) ? Util.OffsetBounds(element) : Util.Bounds(element);\r\n            transform.origin[0] += bounds.left;\r\n            transform.origin[1] += bounds.top;\r\n            return bounds;\r\n        }\r\n        \r\n        function renderElement(element, parentStack, pseudoElement, ignoreBackground) {\r\n            var transform = getTransform(element, parentStack),\r\n                bounds = getBounds(element, transform),\r\n                image,\r\n                stack = createStack(element, parentStack, bounds, transform),\r\n                borders = stack.borders,\r\n                ctx = stack.ctx,\r\n                backgroundBounds = getBackgroundBounds(borders, bounds, stack.clip),\r\n                borderData = parseBorders(element, bounds, borders),\r\n                backgroundColor = (ignoreElementsRegExp.test(element.nodeName)) ? \"#efefef\" : getCSS(element, \"backgroundColor\");\r\n            \r\n            \r\n            createShape(ctx, borderData.clip);\r\n            \r\n            ctx.save();\r\n            ctx.clip();\r\n            \r\n            if (backgroundBounds.height > 0 && backgroundBounds.width > 0 && !ignoreBackground) {\r\n                renderBackgroundColor(ctx, bounds, backgroundColor);\r\n                renderBackgroundImage(element, backgroundBounds, ctx);\r\n            } else if (ignoreBackground) {\r\n                stack.backgroundColor =  backgroundColor;\r\n            }\r\n            \r\n            ctx.restore();\r\n            \r\n            borderData.borders.forEach(function(border) {\r\n                renderBorders(ctx, border.args, border.color);\r\n            });\r\n            \r\n            if (!pseudoElement) {\r\n                injectPseudoElements(element, stack);\r\n            }\r\n            \r\n            switch(element.nodeName){\r\n                case \"IMG\":\r\n                    if ((image = loadImage(element.getAttribute('src')))) {\r\n                        renderImage(ctx, element, image, bounds, borders);\r\n                    } else {\r\n                        Util.log(\"html2canvas: Error loading <img>:\" + element.getAttribute('src'));\r\n                    }\r\n                    break;\r\n                case \"INPUT\":\r\n                    // TODO add all relevant type's, i.e. HTML5 new stuff\r\n                    // todo add support for placeholder attribute for browsers which support it\r\n                    if (/^(text|url|email|submit|button|reset)$/.test(element.type) && (element.value || element.placeholder || \"\").length > 0){\r\n                        renderFormValue(element, bounds, stack);\r\n                    }\r\n                    break;\r\n                case \"TEXTAREA\":\r\n                    if ((element.value || element.placeholder || \"\").length > 0){\r\n                        renderFormValue(element, bounds, stack);\r\n                    }\r\n                    break;\r\n                case \"SELECT\":\r\n                    if ((element.options||element.placeholder || \"\").length > 0){\r\n                        renderFormValue(element, bounds, stack);\r\n                    }\r\n                    break;\r\n                case \"LI\":\r\n                    renderListItem(element, stack, backgroundBounds);\r\n                    break;\r\n                case \"CANVAS\":\r\n                    renderImage(ctx, element, element, bounds, borders);\r\n                    break;\r\n            }\r\n            \r\n            return stack;\r\n        }\r\n        \r\n        function isElementVisible(element) {\r\n            return (getCSS(element, 'display') !== \"none\" && getCSS(element, 'visibility') !== \"hidden\" && !element.hasAttribute(\"data-html2canvas-ignore\"));\r\n        }\r\n        \r\n        function parseElement (element, stack, pseudoElement) {\r\n            if (isElementVisible(element)) {\r\n                stack = renderElement(element, stack, pseudoElement, false) || stack;\r\n                if (!ignoreElementsRegExp.test(element.nodeName)) {\r\n                    parseChildren(element, stack, pseudoElement);\r\n                }\r\n            }\r\n        }\r\n        \r\n        function parseChildren(element, stack, pseudoElement) {\r\n            Util.Children(element).forEach(function(node) {\r\n                if (node.nodeType === node.ELEMENT_NODE) {\r\n                    parseElement(node, stack, pseudoElement);\r\n                } else if (node.nodeType === node.TEXT_NODE) {\r\n                    renderText(element, node, stack);\r\n                }\r\n            });\r\n        }\r\n        \r\n        function init() {\r\n            var background = getCSS(document.documentElement, \"backgroundColor\"),\r\n                transparentBackground = (Util.isTransparent(background) && element === document.body),\r\n                stack = renderElement(element, null, false, transparentBackground);\r\n            parseChildren(element, stack);\r\n            \r\n            if (transparentBackground) {\r\n                background = stack.backgroundColor;\r\n            }\r\n            \r\n            body.removeChild(hidePseudoElements);\r\n            return {\r\n                backgroundColor: background,\r\n                stack: stack\r\n            };\r\n        }\r\n        \r\n        return init();\r\n    };\r\n    \r\n    function h2czContext(zindex) {\r\n        return {\r\n            zindex: zindex,\r\n            children: []\r\n        };\r\n    }\r\n    \r\n    _html2canvas.Preload = function( options ) {\r\n        \r\n        var images = {\r\n                numLoaded: 0,   // also failed are counted here\r\n                numFailed: 0,\r\n                numTotal: 0,\r\n                cleanupDone: false\r\n            },\r\n            pageOrigin,\r\n            Util = _html2canvas.Util,\r\n            methods,\r\n            i,\r\n            count = 0,\r\n            element = options.elements[0] || document.body,\r\n            doc = element.ownerDocument,\r\n            domImages = element.getElementsByTagName('img'), // Fetch images of the present element only\r\n            imgLen = domImages.length,\r\n            link = doc.createElement(\"a\"),\r\n            supportCORS = (function( img ){\r\n                return (img.crossOrigin !== undefined);\r\n            })(new Image()),\r\n            timeoutTimer;\r\n        \r\n        link.href = window.location.href;\r\n        pageOrigin  = link.protocol + link.host;\r\n        \r\n        function isSameOrigin(url){\r\n            link.href = url;\r\n            link.href = link.href; // YES, BELIEVE IT OR NOT, that is required for IE9 - http://jsfiddle.net/niklasvh/2e48b/\r\n            var origin = link.protocol + link.host;\r\n            return (origin === pageOrigin);\r\n        }\r\n        \r\n        function start(){\r\n            Util.log(\"html2canvas: start: images: \" + images.numLoaded + \" / \" + images.numTotal + \" (failed: \" + images.numFailed + \")\");\r\n            if (!images.firstRun && images.numLoaded >= images.numTotal){\r\n                Util.log(\"Finished loading images: # \" + images.numTotal + \" (failed: \" + images.numFailed + \")\");\r\n                \r\n                if (typeof options.complete === \"function\"){\r\n                    options.complete(images);\r\n                }\r\n                \r\n            }\r\n        }\r\n        \r\n        // TODO modify proxy to serve images with CORS enabled, where available\r\n        function proxyGetImage(url, img, imageObj){\r\n            var callback_name,\r\n                scriptUrl = options.proxy,\r\n                script;\r\n            \r\n            link.href = url;\r\n            url = link.href; // work around for pages with base href=\"\" set - WARNING: this may change the url\r\n            \r\n            callback_name = 'html2canvas_' + (count++);\r\n            imageObj.callbackname = callback_name;\r\n            \r\n            if (scriptUrl.indexOf(\"?\") > -1) {\r\n                scriptUrl += \"&\";\r\n            } else {\r\n                scriptUrl += \"?\";\r\n            }\r\n            scriptUrl += 'url=' + encodeURIComponent(url) + '&callback=' + callback_name;\r\n            script = doc.createElement(\"script\");\r\n            \r\n            window[callback_name] = function(a){\r\n                if (a.substring(0,6) === \"error:\"){\r\n                    imageObj.succeeded = false;\r\n                    images.numLoaded++;\r\n                    images.numFailed++;\r\n                    start();\r\n                } else {\r\n                    setImageLoadHandlers(img, imageObj);\r\n                    img.src = a;\r\n                }\r\n                window[callback_name] = undefined; // to work with IE<9  // NOTE: that the undefined callback property-name still exists on the window object (for IE<9)\r\n                try {\r\n                    delete window[callback_name];  // for all browser that support this\r\n                } catch(ex) {}\r\n                script.parentNode.removeChild(script);\r\n                script = null;\r\n                delete imageObj.script;\r\n                delete imageObj.callbackname;\r\n            };\r\n            \r\n            script.setAttribute(\"type\", \"text/javascript\");\r\n            script.setAttribute(\"src\", scriptUrl);\r\n            imageObj.script = script;\r\n            window.document.body.appendChild(script);\r\n            \r\n        }\r\n        \r\n        function loadPseudoElement(element, type) {\r\n            var style = window.getComputedStyle(element, type),\r\n                content = style.content;\r\n            if (content.substr(0, 3) === 'url') {\r\n                methods.loadImage(_html2canvas.Util.parseBackgroundImage(content)[0].args[0]);\r\n            }\r\n            loadBackgroundImages(style.backgroundImage, element);\r\n        }\r\n        \r\n        function loadPseudoElementImages(element) {\r\n            loadPseudoElement(element, \":before\");\r\n            loadPseudoElement(element, \":after\");\r\n        }\r\n        \r\n        function loadGradientImage(backgroundImage, bounds) {\r\n            var img = _html2canvas.Generate.Gradient(backgroundImage, bounds);\r\n            \r\n            if (img !== undefined){\r\n                images[backgroundImage] = {\r\n                    img: img,\r\n                    succeeded: true\r\n                };\r\n                images.numTotal++;\r\n                images.numLoaded++;\r\n                start();\r\n            }\r\n        }\r\n        \r\n        function invalidBackgrounds(background_image) {\r\n            return (background_image && background_image.method && background_image.args && background_image.args.length > 0 );\r\n        }\r\n        \r\n        function loadBackgroundImages(background_image, el) {\r\n            var bounds;\r\n            \r\n            _html2canvas.Util.parseBackgroundImage(background_image).filter(invalidBackgrounds).forEach(function(background_image) {\r\n                if (background_image.method === 'url') {\r\n                    methods.loadImage(background_image.args[0]);\r\n                } else if(background_image.method.match(/\\-?gradient$/)) {\r\n                    if(bounds === undefined) {\r\n                        bounds = _html2canvas.Util.Bounds(el);\r\n                    }\r\n                    loadGradientImage(background_image.value, bounds);\r\n                }\r\n            });\r\n        }\r\n        \r\n        function getImages (el) {\r\n            var elNodeType = false;\r\n            \r\n            // Firefox fails with permission denied on pages with iframes\r\n            try {\r\n                Util.Children(el).forEach(getImages);\r\n            }\r\n            catch( e ) {}\r\n            \r\n            try {\r\n                elNodeType = el.nodeType;\r\n            } catch (ex) {\r\n                elNodeType = false;\r\n                Util.log(\"html2canvas: failed to access some element's nodeType - Exception: \" + ex.message);\r\n            }\r\n            \r\n            if (elNodeType === 1 || elNodeType === undefined) {\r\n                loadPseudoElementImages(el);\r\n                try {\r\n                    loadBackgroundImages(Util.getCSS(el, 'backgroundImage'), el);\r\n                } catch(e) {\r\n                    Util.log(\"html2canvas: failed to get background-image - Exception: \" + e.message);\r\n                }\r\n                loadBackgroundImages(el);\r\n            }\r\n        }\r\n        \r\n        function setImageLoadHandlers(img, imageObj) {\r\n            img.onload = function() {\r\n                if ( imageObj.timer !== undefined ) {\r\n                    // CORS succeeded\r\n                    window.clearTimeout( imageObj.timer );\r\n                }\r\n                \r\n                images.numLoaded++;\r\n                imageObj.succeeded = true;\r\n                img.onerror = img.onload = null;\r\n                start();\r\n            };\r\n            img.onerror = function() {\r\n                if (img.crossOrigin === \"anonymous\") {\r\n                    // CORS failed\r\n                    window.clearTimeout( imageObj.timer );\r\n                    \r\n                    // let's try with proxy instead\r\n                    if ( options.proxy ) {\r\n                        var src = img.src;\r\n                        img = new Image();\r\n                        imageObj.img = img;\r\n                        img.src = src;\r\n                        \r\n                        proxyGetImage( img.src, img, imageObj );\r\n                        return;\r\n                    }\r\n                }\r\n                \r\n                images.numLoaded++;\r\n                images.numFailed++;\r\n                imageObj.succeeded = false;\r\n                img.onerror = img.onload = null;\r\n                start();\r\n            };\r\n        }\r\n        \r\n        methods = {\r\n            loadImage: function( src ) {\r\n                var img, imageObj;\r\n                if ( src && images[src] === undefined ) {\r\n                    img = new Image();\r\n                    if ( src.match(/data:image\\/.*;base64,/i) ) {\r\n                        img.src = src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, '');\r\n                        imageObj = images[src] = {\r\n                            img: img\r\n                        };\r\n                        images.numTotal++;\r\n                        setImageLoadHandlers(img, imageObj);\r\n                    } else if ( isSameOrigin( src ) || options.allowTaint ===  true ) {\r\n                        imageObj = images[src] = {\r\n                            img: img\r\n                        };\r\n                        images.numTotal++;\r\n                        setImageLoadHandlers(img, imageObj);\r\n                        img.src = src;\r\n                    } else if ( supportCORS && !options.allowTaint && options.useCORS ) {\r\n                        // attempt to load with CORS\r\n                        \r\n                        img.crossOrigin = \"anonymous\";\r\n                        imageObj = images[src] = {\r\n                            img: img\r\n                        };\r\n                        images.numTotal++;\r\n                        setImageLoadHandlers(img, imageObj);\r\n                        img.src = src;\r\n                    } else if ( options.proxy ) {\r\n                        imageObj = images[src] = {\r\n                            img: img\r\n                        };\r\n                        images.numTotal++;\r\n                        proxyGetImage( src, img, imageObj );\r\n                    }\r\n                }\r\n                \r\n            },\r\n            cleanupDOM: function(cause) {\r\n                var img, src;\r\n                if (!images.cleanupDone) {\r\n                    if (cause && typeof cause === \"string\") {\r\n                        Util.log(\"html2canvas: Cleanup because: \" + cause);\r\n                    } else {\r\n                        Util.log(\"html2canvas: Cleanup after timeout: \" + options.timeout + \" ms.\");\r\n                    }\r\n                    \r\n                    for (src in images) {\r\n                        if (images.hasOwnProperty(src)) {\r\n                            img = images[src];\r\n                            if (typeof img === \"object\" && img.callbackname && img.succeeded === undefined) {\r\n                                // cancel proxy image request\r\n                                window[img.callbackname] = undefined; // to work with IE<9  // NOTE: that the undefined callback property-name still exists on the window object (for IE<9)\r\n                                try {\r\n                                    delete window[img.callbackname];  // for all browser that support this\r\n                                } catch(ex) {}\r\n                                if (img.script && img.script.parentNode) {\r\n                                    img.script.setAttribute(\"src\", \"about:blank\");  // try to cancel running request\r\n                                    img.script.parentNode.removeChild(img.script);\r\n                                }\r\n                                images.numLoaded++;\r\n                                images.numFailed++;\r\n                                Util.log(\"html2canvas: Cleaned up failed img: '\" + src + \"' Steps: \" + images.numLoaded + \" / \" + images.numTotal);\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                    // cancel any pending requests\r\n                    if(window.stop !== undefined) {\r\n                        window.stop();\r\n                    } else if(document.execCommand !== undefined) {\r\n                        document.execCommand(\"Stop\", false);\r\n                    }\r\n                    if (document.close !== undefined) {\r\n                        document.close();\r\n                    }\r\n                    images.cleanupDone = true;\r\n                    if (!(cause && typeof cause === \"string\")) {\r\n                        start();\r\n                    }\r\n                }\r\n            },\r\n            \r\n            renderingDone: function() {\r\n                if (timeoutTimer) {\r\n                    window.clearTimeout(timeoutTimer);\r\n                }\r\n            }\r\n        };\r\n        \r\n        if (options.timeout > 0) {\r\n            timeoutTimer = window.setTimeout(methods.cleanupDOM, options.timeout);\r\n        }\r\n        \r\n        Util.log('html2canvas: Preload starts: finding background-images');\r\n        images.firstRun = true;\r\n        \r\n        getImages(element);\r\n        \r\n        Util.log('html2canvas: Preload: Finding images');\r\n        // load <img> images\r\n        for (i = 0; i < imgLen; i+=1){\r\n            methods.loadImage( domImages[i].getAttribute( \"src\" ) );\r\n        }\r\n        \r\n        images.firstRun = false;\r\n        Util.log('html2canvas: Preload: Done.');\r\n        if (images.numTotal === images.numLoaded) {\r\n            start();\r\n        }\r\n        \r\n        return methods;\r\n    };\r\n    \r\n    _html2canvas.Renderer = function(parseQueue, options){\r\n        \r\n        // http://www.w3.org/TR/CSS21/zindex.html\r\n        function createRenderQueue(parseQueue) {\r\n            var queue = [],\r\n                rootContext;\r\n            \r\n            rootContext = (function buildStackingContext(rootNode) {\r\n                var rootContext = {};\r\n                function insert(context, node, specialParent) {\r\n                    var zi = (node.zIndex.zindex === 'auto') ? 0 : Number(node.zIndex.zindex),\r\n                        contextForChildren = context, // the stacking context for children\r\n                        isPositioned = node.zIndex.isPositioned,\r\n                        isFloated = node.zIndex.isFloated,\r\n                        stub = {node: node},\r\n                        childrenDest = specialParent; // where children without z-index should be pushed into\r\n                    \r\n                    if (node.zIndex.ownStacking) {\r\n                        // '!' comes before numbers in sorted array\r\n                        contextForChildren = stub.context = { '!': [{node:node, children: []}]};\r\n                        childrenDest = undefined;\r\n                    } else if (isPositioned || isFloated) {\r\n                        childrenDest = stub.children = [];\r\n                    }\r\n                    \r\n                    if (zi === 0 && specialParent) {\r\n                        specialParent.push(stub);\r\n                    } else {\r\n                        if (!context[zi]) { context[zi] = []; }\r\n                        context[zi].push(stub);\r\n                    }\r\n                    \r\n                    node.zIndex.children.forEach(function(childNode) {\r\n                        insert(contextForChildren, childNode, childrenDest);\r\n                    });\r\n                }\r\n                insert(rootContext, rootNode);\r\n                return rootContext;\r\n            })(parseQueue);\r\n            \r\n            function sortZ(context) {\r\n                Object.keys(context).sort().forEach(function(zi) {\r\n                    var nonPositioned = [],\r\n                        floated = [],\r\n                        positioned = [],\r\n                        list = [];\r\n                    \r\n                    // positioned after static\r\n                    context[zi].forEach(function(v) {\r\n                        if (v.node.zIndex.isPositioned || v.node.zIndex.opacity < 1) {\r\n                            // http://www.w3.org/TR/css3-color/#transparency\r\n                            // non-positioned element with opactiy < 1 should be stacked as if it were a positioned element with â€˜z-index: 0â€™ and â€˜opacity: 1â€™.\r\n                            positioned.push(v);\r\n                        } else if (v.node.zIndex.isFloated) {\r\n                            floated.push(v);\r\n                        } else {\r\n                            nonPositioned.push(v);\r\n                        }\r\n                    });\r\n                    \r\n                    (function walk(arr) {\r\n                        arr.forEach(function(v) {\r\n                            list.push(v);\r\n                            if (v.children) { walk(v.children); }\r\n                        });\r\n                    })(nonPositioned.concat(floated, positioned));\r\n                    \r\n                    list.forEach(function(v) {\r\n                        if (v.context) {\r\n                            sortZ(v.context);\r\n                        } else {\r\n                            queue.push(v.node);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            \r\n            sortZ(rootContext);\r\n            \r\n            return queue;\r\n        }\r\n        \r\n        function getRenderer(rendererName) {\r\n            var renderer;\r\n            \r\n            if (typeof options.renderer === \"string\" && _html2canvas.Renderer[rendererName] !== undefined) {\r\n                renderer = _html2canvas.Renderer[rendererName](options);\r\n            } else if (typeof rendererName === \"function\") {\r\n                renderer = rendererName(options);\r\n            } else {\r\n                throw new Error(\"Unknown renderer\");\r\n            }\r\n            \r\n            if ( typeof renderer !== \"function\" ) {\r\n                throw new Error(\"Invalid renderer defined\");\r\n            }\r\n            return renderer;\r\n        }\r\n        \r\n        return getRenderer(options.renderer)(parseQueue, options, document, createRenderQueue(parseQueue.stack), _html2canvas);\r\n    };\r\n    \r\n    _html2canvas.Util.Support = function (options, doc) {\r\n        \r\n        function supportSVGRendering() {\r\n            var img = new Image(),\r\n                canvas = doc.createElement(\"canvas\"),\r\n                ctx = (canvas.getContext === undefined) ? false : canvas.getContext(\"2d\");\r\n            if (ctx === false) {\r\n                return false;\r\n            }\r\n            canvas.width = canvas.height = 10;\r\n            img.src = [\r\n                \"data:image/svg+xml,\",\r\n                \"<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>\",\r\n                \"<foreignObject width='10' height='10'>\",\r\n                \"<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>\",\r\n                \"sup\",\r\n                \"</div>\",\r\n                \"</foreignObject>\",\r\n                \"</svg>\"\r\n            ].join(\"\");\r\n            try {\r\n                ctx.drawImage(img, 0, 0);\r\n                canvas.toDataURL();\r\n            } catch(e) {\r\n                return false;\r\n            }\r\n            _html2canvas.Util.log('html2canvas: Parse: SVG powered rendering available');\r\n            return true;\r\n        }\r\n        \r\n        // Test whether we can use ranges to measure bounding boxes\r\n        // Opera doesn't provide valid bounds.height/bottom even though it supports the method.\r\n        \r\n        function supportRangeBounds() {\r\n            var r, testElement, rangeBounds, rangeHeight, support = false;\r\n            \r\n            if (doc.createRange) {\r\n                r = doc.createRange();\r\n                if (r.getBoundingClientRect) {\r\n                    testElement = doc.createElement('boundtest');\r\n                    testElement.style.height = \"123px\";\r\n                    testElement.style.display = \"block\";\r\n                    doc.body.appendChild(testElement);\r\n                    \r\n                    r.selectNode(testElement);\r\n                    rangeBounds = r.getBoundingClientRect();\r\n                    rangeHeight = rangeBounds.height;\r\n                    \r\n                    if (rangeHeight === 123) {\r\n                        support = true;\r\n                    }\r\n                    doc.body.removeChild(testElement);\r\n                }\r\n            }\r\n            \r\n            return support;\r\n        }\r\n        \r\n        return {\r\n            rangeBounds: supportRangeBounds(),\r\n            svgRendering: options.svgRendering && supportSVGRendering()\r\n        };\r\n    };\r\n    window.html2canvas = function(elements, opts) {\r\n        elements = (elements.length) ? elements : [elements];\r\n        var queue,\r\n            canvas,\r\n            options = {\r\n                // general\r\n                logging: false,\r\n                elements: elements,\r\n                background: \"#fff\",\r\n                \r\n                // preload options\r\n                proxy: null,\r\n                timeout: 0,    // no timeout\r\n                useCORS: false, // try to load images as CORS (where available), before falling back to proxy\r\n                allowTaint: false, // whether to allow images to taint the canvas, won't need proxy if set to true\r\n                \r\n                // parse options\r\n                svgRendering: false, // use svg powered rendering where available (FF11+)\r\n                ignoreElements: \"IFRAME|OBJECT|PARAM\",\r\n                useOverflow: true,\r\n                letterRendering: false,\r\n                chinese: false,\r\n                \r\n                // render options\r\n                \r\n                width: null,\r\n                height: null,\r\n                taintTest: true, // do a taint test with all images before applying to canvas\r\n                renderer: \"Canvas\"\r\n            };\r\n        \r\n        options = _html2canvas.Util.Extend(opts, options);\r\n        \r\n        _html2canvas.logging = options.logging;\r\n        options.complete = function( images ) {\r\n            \r\n            if (typeof options.onpreloaded === \"function\") {\r\n                if ( options.onpreloaded( images ) === false ) {\r\n                    return;\r\n                }\r\n            }\r\n            queue = _html2canvas.Parse( images, options );\r\n            \r\n            if (typeof options.onparsed === \"function\") {\r\n                if ( options.onparsed( queue ) === false ) {\r\n                    return;\r\n                }\r\n            }\r\n            \r\n            canvas = _html2canvas.Renderer( queue, options );\r\n            \r\n            if (typeof options.onrendered === \"function\") {\r\n                options.onrendered( canvas );\r\n            }\r\n            \r\n            \r\n        };\r\n        \r\n        // for pages without images, we still want this to be async, i.e. return methods before executing\r\n        window.setTimeout( function(){\r\n            _html2canvas.Preload( options );\r\n        }, 0 );\r\n        \r\n        return {\r\n            render: function( queue, opts ) {\r\n                return _html2canvas.Renderer( queue, _html2canvas.Util.Extend(opts, options) );\r\n            },\r\n            parse: function( images, opts ) {\r\n                return _html2canvas.Parse( images, _html2canvas.Util.Extend(opts, options) );\r\n            },\r\n            preload: function( opts ) {\r\n                return _html2canvas.Preload( _html2canvas.Util.Extend(opts, options) );\r\n            },\r\n            log: _html2canvas.Util.log\r\n        };\r\n    };\r\n    \r\n    window.html2canvas.log = _html2canvas.Util.log; // for renderers\r\n    window.html2canvas.Renderer = {\r\n        Canvas: undefined // We are assuming this will be used\r\n    };\r\n    _html2canvas.Renderer.Canvas = function(options) {\r\n        options = options || {};\r\n        \r\n        var doc = document,\r\n            safeImages = [],\r\n            testCanvas = document.createElement(\"canvas\"),\r\n            testctx = testCanvas.getContext(\"2d\"),\r\n            Util = _html2canvas.Util,\r\n            canvas = options.canvas || doc.createElement('canvas');\r\n        \r\n        function createShape(ctx, args) {\r\n            ctx.beginPath();\r\n            args.forEach(function(arg) {\r\n                ctx[arg.name].apply(ctx, arg['arguments']);\r\n            });\r\n            ctx.closePath();\r\n        }\r\n        \r\n        function safeImage(item) {\r\n            if (safeImages.indexOf(item['arguments'][0].src ) === -1) {\r\n                testctx.drawImage(item['arguments'][0], 0, 0);\r\n                try {\r\n                    testctx.getImageData(0, 0, 1, 1);\r\n                } catch(e) {\r\n                    testCanvas = doc.createElement(\"canvas\");\r\n                    testctx = testCanvas.getContext(\"2d\");\r\n                    return false;\r\n                }\r\n                safeImages.push(item['arguments'][0].src);\r\n            }\r\n            return true;\r\n        }\r\n        \r\n        function renderItem(ctx, item) {\r\n            switch(item.type){\r\n                case \"variable\":\r\n                    ctx[item.name] = item['arguments'];\r\n                    break;\r\n                case \"function\":\r\n                    switch(item.name) {\r\n                        case \"createPattern\":\r\n                            if (item['arguments'][0].width > 0 && item['arguments'][0].height > 0) {\r\n                                try {\r\n                                    ctx.fillStyle = ctx.createPattern(item['arguments'][0], \"repeat\");\r\n                                }\r\n                                catch(e) {\r\n                                    Util.log(\"html2canvas: Renderer: Error creating pattern\", e.message);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case \"drawShape\":\r\n                            createShape(ctx, item['arguments']);\r\n                            break;\r\n                        case \"drawImage\":\r\n                            if (item['arguments'][8] > 0 && item['arguments'][7] > 0) {\r\n                                if (!options.taintTest || (options.taintTest && safeImage(item))) {\r\n                                    ctx.drawImage.apply( ctx, item['arguments'] );\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                            ctx[item.name].apply(ctx, item['arguments']);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        return function(parsedData, options, document, queue, _html2canvas) {\r\n            var ctx = canvas.getContext(\"2d\"),\r\n                newCanvas,\r\n                bounds,\r\n                fstyle,\r\n                zStack = parsedData.stack;\r\n            \r\n            canvas.width = canvas.style.width =  options.width || zStack.ctx.width;\r\n            canvas.height = canvas.style.height = options.height || zStack.ctx.height;\r\n            \r\n            fstyle = ctx.fillStyle;\r\n            ctx.fillStyle = (Util.isTransparent(zStack.backgroundColor) && options.background !== undefined) ? options.background : parsedData.backgroundColor;\r\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n            ctx.fillStyle = fstyle;\r\n            \r\n            queue.forEach(function(storageContext) {\r\n                // set common settings for canvas\r\n                ctx.textBaseline = \"bottom\";\r\n                ctx.save();\r\n                \r\n                if (storageContext.transform.matrix) {\r\n                    ctx.translate(storageContext.transform.origin[0], storageContext.transform.origin[1]);\r\n                    ctx.transform.apply(ctx, storageContext.transform.matrix);\r\n                    ctx.translate(-storageContext.transform.origin[0], -storageContext.transform.origin[1]);\r\n                }\r\n                \r\n                if (storageContext.clip){\r\n                    ctx.beginPath();\r\n                    ctx.rect(storageContext.clip.left, storageContext.clip.top, storageContext.clip.width, storageContext.clip.height);\r\n                    ctx.clip();\r\n                }\r\n                \r\n                if (storageContext.ctx.storage) {\r\n                    storageContext.ctx.storage.forEach(function(item) {\r\n                        renderItem(ctx, item);\r\n                    });\r\n                }\r\n                \r\n                ctx.restore();\r\n            });\r\n            \r\n            Util.log(\"html2canvas: Renderer: Canvas renderer done - returning canvas obj\");\r\n            \r\n            if (options.elements.length === 1) {\r\n                if (typeof options.elements[0] === \"object\" && options.elements[0].nodeName !== \"BODY\") {\r\n                    // crop image to the bounds of selected (single) element\r\n                    bounds = _html2canvas.Util.Bounds(options.elements[0]);\r\n                    newCanvas = document.createElement('canvas');\r\n                    newCanvas.width = Math.ceil(bounds.width);\r\n                    newCanvas.height = Math.ceil(bounds.height);\r\n                    ctx = newCanvas.getContext(\"2d\");\r\n                    \r\n                    ctx.drawImage(canvas, bounds.left, bounds.top, bounds.width, bounds.height, 0, 0, bounds.width, bounds.height);\r\n                    canvas = null;\r\n                    return newCanvas;\r\n                }\r\n            }\r\n            \r\n            return canvas;\r\n        };\r\n    };\r\n})(window,document);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/html2canvas.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router/index'\r\nimport store from './store/store'\r\nimport './js/rem'\r\nimport wechat from './js/wechat'\r\nimport './js/html2canvas'\r\nimport { getInsideVersion, getUserInfoFromInside } from './js/appJuc'\r\nimport { setUserUuid } from './js/sendRequest'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.filter('formatDate', val => {  // 截取日期后两位\r\n    return val.substr(val.length - 2, 2)\r\n})\r\nVue.filter('formatDate1', val => {  // 判断上午下午\r\n    if (val === '9:30-10:30' || val === '10:30-11:30' || val === '上午') {\r\n        return '上午'\r\n    } else {\r\n        return '下午'\r\n    }\r\n})\r\nVue.filter('formatDate2', val => {\r\n    if (val === '上午') {\r\n        return '9:30-11:30'\r\n    } else if (val === '下午') {\r\n        return '15:00-17:00'\r\n    } else {\r\n        return val\r\n    }\r\n})\r\nlet ua = navigator.userAgent.toLowerCase()\r\nlet isWeixn = (ua && ua.match(/MicroMessenger/i) == \"micromessenger\") ? true : false\r\nif (isWeixn) {\r\n    wechat.getOpenid(() => {\r\n        /* eslint-disable no-new */\r\n        new Vue({\r\n            el: '#app',\r\n            router,\r\n            store,\r\n            template: '<App/>',\r\n            components: {App}\r\n        })\r\n    })\r\n    wechat.setWxConfig({\r\n        jsApiList: ['scanQRCode', 'translateVoice', 'checkJsApi', 'chooseImage', 'previewImage', 'uploadImage']\r\n    })\r\n} else {\r\n    let Url = 'http://nfrb.ydcycloud.com/nfrb/dist/index.html'\r\n    getInsideVersion(function (res) {\r\n        if (!res) {\r\n            window.openApp(12, false, true, Url, Url)\r\n        } else {\r\n            if (res >= 380) {\r\n                getUserInfoFromInside(function (userInfo) {\r\n                    // alert(`phone=${userInfo.phone}&userUuid=${userInfo.userUuid}&version=大于等于380`)\r\n                    if (userInfo.userUuid) {\r\n                        // axios.get(`http://nfrb.ydcycloud.com/common/user/addUserUuid?userUuid=${userInfo.userUuid}`).then(res => {\r\n                        //     console.log(res)\r\n                        // })\r\n                         Vue.prototype.uphone = !!userInfo.phone;\r\n                                setUserUuid({userUuid: userInfo.userUuid}).then((res) => {\r\n                                    // alert(res)\r\n                                    new Vue({\r\n                                        el: '#app',\r\n                                        router,\r\n                                        store,\r\n                                        template: '<App/>',\r\n                                        components: {App}\r\n                                    })\r\n                                })\r\n                        window.getLoginUserData = function (userData) {\r\n                            // 进入登录回调方法需要先隐藏绑定手机号弹框\r\n                            // 隐藏绑定手机号弹窗代码\r\n                            // 获取登录信息\r\n                            // 返回的是字符串，需要转换为Object\r\n                            let data = JSON.parse(userData);\r\n                            // alert(`data=${userData}&version=低于380`)\r\n                            if (data.userUuid !== '') {\r\n                                // 得到用户的userUuid\r\n                                Vue.prototype.uphone = !!data.phone;\r\n                                setUserUuid({userUuid: data.userUuid}).then((res) => {\r\n                                    // alert(res)\r\n                                    new Vue({\r\n                                        el: '#app',\r\n                                        router,\r\n                                        store,\r\n                                        template: '<App/>',\r\n                                        components: {App}\r\n                                    })\r\n                                })\r\n                            }\r\n                        }\r\n                    } else {\r\n                        window.location.href = 'getLoginPhoneInfo:///'\r\n                        // 获取登录信息\r\n                        // 该方法需要提前实现在全局下，当调用登录协议头时，客户端会调用该方法并传值\r\n                        /*\r\n\t\t\t\t\t\t返回样例：\"{\"userUuid\":\"fdfsafds-fdfsdfsdf-fdfasfsdf-fdsaff\"}\"\r\n\t\t\t\t\t\t*/\r\n                        window.getLoginUserData = function (userData) {\r\n                            // 进入登录回调方法需要先隐藏绑定手机号弹框\r\n                            // 隐藏绑定手机号弹窗代码\r\n                            // 获取登录信息\r\n                            // 返回的是字符串，需要转换为Object\r\n                            let data = JSON.parse(userData);\r\n                            // alert(`data=${userData}&version=低于380`)\r\n                            if (data.userUuid !== '') {\r\n                                \r\n                                // 得到用户的userUuid\r\n                                Vue.prototype.uphone = !!data.phone;\r\n                                setUserUuid({userUuid: data.userUuid}).then((res) => {\r\n                                    // alert(res)\r\n                                    new Vue({\r\n                                        el: '#app',\r\n                                        router,\r\n                                        store,\r\n                                        template: '<App/>',\r\n                                        components: {App}\r\n                                    })\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            } else {\r\n                tips.show('请升级到最新版本')\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// 获取url参数\r\nfunction getUrlQuery (name) {\r\n    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i')\r\n    var r = window.location.search.substr(1).match(reg)\r\n    if (r != null) return (r[2])\r\n    return ''\r\n}\r\n\r\n// Storage\r\nlet Storage = function (storage) {\r\n    return {\r\n        set: (key, val) => {\r\n            let str = typeof val !== 'string' ? JSON.stringify(val) : val\r\n            storage.setItem(key, str)\r\n        },\r\n        get: (key) => {\r\n            return storage.getItem(key)\r\n        },\r\n        getJSON: (key) => {\r\n            return JSON.parse(storage.getItem(key))\r\n        },\r\n        remove: (key) => {\r\n            storage.removeItem(key)\r\n        }\r\n    }\r\n}\r\nconst storage = new Storage(window.localStorage)\r\nconst session = new Storage(window.sessionStorage)\r\n\r\n/**\r\n * 解决输入文本框获取焦点后，输入法影响fixed布局问题\r\n * 元素需添加fixed类名\r\n */\r\nfunction resolveFixed () {\r\n    let timer\r\n    document.querySelectorAll('input[type=text], textarea').forEach((el) => {\r\n        el.addEventListener('focus', () => {\r\n            clearTimeout(timer)\r\n            document.getElementsByClassName('fixed').forEach((el2) => {\r\n                el2.style.top = el2.offsetTop + 'px'\r\n            })\r\n        })\r\n    })\r\n    document.querySelectorAll('input[type=text], textarea').forEach((el) => {\r\n        el.addEventListener('blur', () => {\r\n            timer = setTimeout(() => {  // 延迟是等待输入法消失\r\n                document.getElementsByClassName('fixed').forEach((el2) => {\r\n                    el2.style.top = ''\r\n                })\r\n            }, 200)\r\n        })\r\n    })\r\n}\r\n\r\n// 获取当前时间，格式YYYY-MM-DD\r\nfunction getNowFormatDate () {\r\n    let date = new Date()\r\n    let year = date.getFullYear()\r\n    let month = date.getMonth() + 1\r\n    let strDate = date.getDate()\r\n    if (month >= 1 && month <= 9) {\r\n        month = '0' + month\r\n    }\r\n    if (strDate >= 0 && strDate <= 9) {\r\n        strDate = '0' + strDate\r\n    }\r\n    let currentdate = year + '-' + month + '-' + strDate\r\n    return currentdate\r\n}\r\n\r\nexport {\r\n    getUrlQuery,\r\n    resolveFixed,\r\n    storage,\r\n    session,\r\n    getNowFormatDate,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils.js","import wx from 'weixin-js-sdk'\r\nimport ajax from './ajax'\r\nimport { getUrlQuery, session, storage } from './utils'\r\nimport Cookies from 'js-cookie'\r\n\r\nlet wechat = {\r\n    // appId: 'wxc74dc9f02674b0a7', // 测试号\r\n    appId: 'wx039f3ef5e9976eb1',  // 服务器\r\n    openid: storage.get('openid'),\r\n    configParam: {\r\n        debug: false,\r\n        timestamp: '',\r\n        nonceStr: '',\r\n        signature: ''\r\n    },\r\n    authCode: getUrlQuery('code'),\r\n    scanQrCode (cb) {\r\n        // console.log(this.configParam)\r\n        wx.scanQRCode({\r\n            desc: 'scanQRCode desc',\r\n            needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\r\n            scanType: ['qrCode', 'barCode'], // 可以指定扫二维码还是一维码，默认二者都有\r\n            success (res) {\r\n                let result = res.resultStr\r\n                cb && cb(result)\r\n            },\r\n            error (res) {\r\n                if (res.errMsg.indexOf('function_not_exist') > 0) {\r\n                    alert('版本过低请升级')\r\n                }\r\n            }\r\n        })\r\n    },\r\n    chooseImage (cb) {\r\n        wx.chooseImage({\r\n            count: 1, // 默认9\r\n            sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n            sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n            success: function (res) {\r\n                let localIds = res.localIds   // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\r\n                wx.uploadImage({\r\n                    localId: localIds, // 需要上传的图片的本地ID，由chooseImage接口获得\r\n                    isShowProgressTips: 1, // 默认为1，显示进度提示\r\n                    success: function (res) {\r\n                        let serverId = res.serverId   // 返回图片的服务器端ID\r\n                        cb && cb(serverId)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    },\r\n    getConfigParam (cb) {\r\n        ajax({\r\n            url: '/common/weChat/getweChatInfo',\r\n            success: (data) => {\r\n                this.configParam.timestamp = data.timestamp\r\n                this.configParam.nonceStr = data.nonceStr\r\n                this.configParam.signature = data.signature\r\n                cb()\r\n            }\r\n        })\r\n    },\r\n    setWxConfig ({jsApiList, ready, error}) {\r\n        let set = () => {\r\n            wx.config({\r\n                debug: this.configParam.debug, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n                appId: this.appId, // 必填，公众号的唯一标识\r\n                timestamp: this.configParam.timestamp, // 必填，生成签名的时间戳\r\n                nonceStr: this.configParam.nonceStr, // 必填，生成签名的随机串\r\n                signature: this.configParam.signature, // 必填，签名，见附录1\r\n                // jsApiList: ['chooseWXPay'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\r\n                jsApiList: jsApiList\r\n            })\r\n            ready && wx.ready(ready)\r\n            error && wx.fail(error)\r\n        }\r\n        if (this.configParam.timestamp) {\r\n            set()\r\n        } else {\r\n            this.getConfigParam(set)\r\n        }\r\n    },\r\n    /**\r\n     * 获取微信授权的code，\r\n     * @param clearQuery 是否重定向至url没有参数code和state的页面\r\n     * @returns {String} code || ''\r\n     */\r\n    getCode (clearQuery = true) {\r\n        if (clearQuery) {\r\n            if (getUrlQuery('state') === 'wechat') { // 授权后重定向回来，则将code存到session后，重定向至没有参数code和state的页面\r\n                session.set('wechat_code', getUrlQuery('code'))\r\n                let url = window.location.href\r\n                window.location.href = url.substring(0, url.indexOf('?'))\r\n            } else {    // 判断session中是否已经有code\r\n                let code = session.get('wechat_code')\r\n                if (code) {\r\n                    session.remove('wechat_code')\r\n                    return code\r\n                }\r\n            }\r\n        } else {\r\n            if (getUrlQuery('state') === 'wechat') {\r\n                return getUrlQuery('code')\r\n            }\r\n        }\r\n        return ''\r\n    },\r\n    /**\r\n     * 移动端\r\n     * 重定向至 获取微信验证授权的url 并 重定向至reUrl，reUrl带code\r\n     * reUrl默认为当前页\r\n     * @param reUrl\r\n     */\r\n    wechatAuth (reUrl) {\r\n        if (session.get('wechat_code')) return\r\n        let redirectUri = encodeURIComponent(reUrl || window.location.href)\r\n        // let currentUrl = encodeURIComponent('http://16535j5e29.51mypc.cn/anlianExam/mobile/index.html#/signUp');\r\n        window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + this.appId +\r\n            '&redirect_uri=' + redirectUri +\r\n            '&response_type=code&scope=snsapi_userinfo' +\r\n            '&state=' + 'wechat' +\r\n            '#wechat_redirect'\r\n    },\r\n    /**\r\n     * 移动端获取openid\r\n     * @param cb\r\n     */\r\n    getOpenid (cb) {\r\n        if (this.openid) {\r\n            if (!Cookies.get('openid')) {\r\n                Cookies.set('openid', this.openid)\r\n            }\r\n            cb && cb()\r\n            return\r\n        }\r\n        let code = this.getCode(true)\r\n        if (!code) {\r\n            this.wechatAuth()\r\n            return\r\n        }\r\n        ajax({\r\n            url: '/common/weChat/getOpenid',\r\n            data: {\r\n                code: code\r\n            },\r\n            success: (data) => {\r\n                this.openid = data.openid\r\n                storage.set('openid', data.openid)\r\n                Cookies.set('openid', data.openid)\r\n                cb && cb()\r\n            },\r\n            error: (e) => {\r\n                alert(e.message)\r\n            }\r\n        })\r\n    },\r\n}\r\nexport default wechat\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/wechat.js","import ajax from './ajax.js'\r\nimport store from '../store/store'\r\n\r\nlet getIndexData = () => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/getTicketDateInfo'\r\n    })\r\n}\r\nlet getNotice = () => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/getNotice'\r\n    })\r\n}\r\nlet addContactInfo = ({name, phone, sex, area, remark}) => {\r\n    return ajax({\r\n        url: '/wap/user/addContact',\r\n        data: {\r\n            name: name,\r\n            phone: phone,\r\n            sex: sex,\r\n            areaCode: area,\r\n            remark: remark,\r\n        }\r\n    })\r\n}\r\nlet scanLogin = ({username, password}) => {\r\n    return ajax({\r\n        url: '/common/worker/login',\r\n        data: {\r\n            username: username,\r\n            password: password\r\n        },\r\n        error: (data) => {\r\n            if (data.status === 102) {\r\n                alert('用户名或密码错误')\r\n            }\r\n        }\r\n    })\r\n}\r\nlet addSelectedInfo = ({contactName, contactPhone, dayNumber, entryTime, guide, teamName, type, count, sort}) => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/signUp',\r\n        data: {\r\n            contactName: contactName,\r\n            contactPhone: contactPhone,\r\n            dayNumber: dayNumber,\r\n            entryTime: entryTime,\r\n            guide: guide,\r\n            teamName: teamName,\r\n            type: type,\r\n            count: count,\r\n            sort: sort,\r\n        },\r\n        error: (data) => {\r\n            if (data.status === 700) {\r\n                alert('您今天已经报名过了')\r\n            } else if (data.status === 307) {\r\n                alert('手机号验证未通过')\r\n            } else if (data.status === 701) {\r\n                alert('您已报名过该时间段')\r\n            }\r\n        }\r\n    })\r\n}\r\nlet getVisitNum = () => {\r\n    return ajax({\r\n        url: '/common/worker/getTodayNumber'\r\n    })\r\n}\r\nlet getTicketsRecord = ({pageNo = 1, pageSize = 100}) => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/findRecord',\r\n        data: {\r\n            pageNo: pageNo,\r\n            pageSize: pageSize\r\n        }\r\n    })\r\n}\r\nlet refundTicket = ({ticketNumber}) => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/returnTicket',\r\n        data: {\r\n            ticketNumber: ticketNumber,\r\n        }\r\n    })\r\n}\r\nlet changeTicket = ({ticketNumber, peopleCount, remark}) => {\r\n    return ajax({\r\n        url: '/common/worker/changeTicket',\r\n        data: {\r\n            ticketNumber: ticketNumber,\r\n            peopleCount: peopleCount,\r\n            remark: remark\r\n        },\r\n        error: (data) => {\r\n            // alert(JSON.stringify(data))\r\n            let status = parseInt(data.status)\r\n            store.commit('setScanStatus', status)\r\n        }\r\n    })\r\n}\r\nlet addRealPeople = ({peopleCount, remark}) => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/addRealPeople',\r\n        data: {\r\n            peopleCount: peopleCount,\r\n            remark: remark\r\n        }\r\n    })\r\n}\r\nlet getTicketDetail = ({id}) => {\r\n    return ajax({\r\n        url: '/wap/ticketWap/returnSignUp',\r\n        data: {\r\n            id: id\r\n        }\r\n    })\r\n}\r\nlet getTicketScanInfo = ({ticketNumber}) => {\r\n    return ajax({\r\n        url: '/common/worker/getCodeUrl',\r\n        data: {\r\n            ticketNumber: ticketNumber\r\n        }\r\n    })\r\n}\r\nlet setUserUuid = ({userUuid}) => {\r\n    return ajax({\r\n        url: '/common/user/addUserUuid',\r\n        data: {\r\n            userUuid\r\n        }\r\n    })\r\n}\r\n// export * from './testData'\r\nexport {\r\n    getIndexData, // 首页数据\r\n    getNotice, // 获取首页公告\r\n    addContactInfo, // 添加联系人\r\n    scanLogin, // 工作人员登陆\r\n    addSelectedInfo, // 报名\r\n    getVisitNum, // 获取今天实际参观人数\r\n    getTicketsRecord, // 购票记录\r\n    refundTicket,  // 退票\r\n    changeTicket, // 核销扫一扫\r\n    addRealPeople, // 手动添加人数核销\r\n    getTicketDetail, // 获取具体票详情\r\n    getTicketScanInfo, // 获取扫一扫后的详细数据\r\n    setUserUuid, // 获取南方+uuid给后台\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/sendRequest.js","(function () {\r\n    let resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize'\r\n    let reset = function () {\r\n        let html = document.documentElement\r\n        let clientWidth = html.clientWidth\r\n        if (!clientWidth) return\r\n        html.style.fontSize = (clientWidth / 32 > 20 ? 20 : clientWidth / 32) + 'px'\r\n    }\r\n    window.addEventListener(resizeEvt, reset)\r\n    reset()\r\n    document.addEventListener('DOMContentLoaded', reset)\r\n}())\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/rem.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport actions from './actions'\r\nimport mutations from './mutations'\r\n\r\nVue.use(Vuex)\r\nconst debug = process.env.NODE_ENV === 'development'\r\n\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        selectedInfo: {    // 已选择的报名信息\r\n            daySltActive: 0, // 选择的日期下标\r\n            ticketType: 2, // 1个人票  2团体票\r\n            selectedSpec: -1, // 进场人数下标\r\n            selectedTime: -1, // 时间段下标\r\n            contactName: '',  // 联系名\r\n            contactPhone: '',  // 电话\r\n            sex: 1,  // 1男  2女\r\n            area: '',  // 地址\r\n            areaCode: '', // 地区码\r\n            singleCount: 1, // 单人票数\r\n        },\r\n        scanStatus: 300, // 核销状态\r\n        showMessage: false, // 显示报名后页面弹出消息\r\n        visitNotice: '', // 参观须知\r\n        pullupshow:false //弹窗显示\r\n    },\r\n    mutations,\r\n    actions,\r\n    strict: debug\r\n})\r\nexport default store\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","// import store from './store'\r\nexport default {\r\n    selectedDay (state, day) {\r\n        state.selectedInfo.daySltActive = day\r\n    },\r\n    ticketType (state, type) {\r\n        state.selectedInfo.ticketType = type\r\n    },\r\n    selectSpec (state, payload) {\r\n        state.selectedInfo.selectedSpec = payload\r\n    },\r\n    selectSingleCount (state, payload) {\r\n        state.selectedInfo.singleCount = payload\r\n    },\r\n    selectTime (state, payload) {\r\n        state.selectedInfo.selectedTime = payload\r\n    },\r\n    addContactInfo (state, payload) {\r\n        state.selectedInfo.contactName = payload.contactName\r\n        state.selectedInfo.contactPhone = payload.contactPhone\r\n        state.selectedInfo.area = payload.area\r\n        state.selectedInfo.sex = payload.sex\r\n        state.selectedInfo.areaCode = payload.areaCode\r\n        state.selectedInfo.remark = payload.remark\r\n    },\r\n    setScanStatus (state, status) {\r\n        state.scanStatus = status\r\n    },\r\n    showMessage (state, payload) {\r\n        state.showMessage = payload\r\n    },\r\n    setVisitNotice (state, payload) {\r\n        state.visitNotice = payload\r\n    },\r\n    changepullup(state,payload){\r\n        state.pullupshow = payload\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js"],"sourceRoot":""}