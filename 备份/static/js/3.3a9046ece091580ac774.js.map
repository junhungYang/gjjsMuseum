{"version":3,"sources":["webpack:///src/pages/scan.vue","webpack:///./src/pages/scan.vue?047d","webpack:///./src/pages/scan.vue"],"names":["scan","data","ticketInfoState","realNum","verificationState","type","time","visitNum","ticketInfo","remark","specList","timeList","watch","val","this","created","getVisitNum","computed","judgeTime","date","dateStamp","Date","now","getTime","push","setHours","i","length","scanStatus","$store","state","methods","scanQrCode","wechat","qrCodeInfo","code","_this","ticketNumber","split","Object","sendRequest","then","parseInt","personCount","entryTime","manualAdd","name","verification","_this2","peopleCount","isNaN","alert","setTimeout","sureError","commit","cancel","_this3","pages_scan","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","_v","on","click","_s","directives","rawName","value","undefined","expression","_f","domProps","input","$event","target","composing","_m","placeholder","_e","touchmove","preventDefault","ticketTime","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mIAqDAA,GACAC,KADA,WAEA,OACAC,gBAAA,EACAC,QAAA,GACAC,kBAAA,EACAC,KAAA,GACAC,KAAA,GACAC,SAAA,EACAC,cACAC,OAAA,GAEAC,UAAA,aACAC,UAAA,kFAGAC,OACAV,gBADA,SACAW,GACA,IAAAA,IACAC,KAAAN,cACAM,KAAAT,KAAA,GACAS,KAAAR,KAAA,GACAQ,KAAAX,QAAA,MAIAY,QA1BA,WA2BAD,KAAAE,eAEAC,UACAC,UADA,WAEA,IAAAZ,GAAA,oFACAa,KACAC,EAAA,IAAAC,KACAC,EAAAF,EAAAG,UACAJ,EAAAK,KAAAJ,EAAAK,SAAA,YACAN,EAAAK,KAAAJ,EAAAK,SAAA,YACAN,EAAAK,KAAAJ,EAAAK,SAAA,WACAN,EAAAK,KAAAJ,EAAAK,SAAA,WACAN,EAAAK,KAAAJ,EAAAK,SAAA,WACAN,EAAAK,KAAAJ,EAAAK,SAAA,WACA,QAAAC,EAAA,EAAAA,EAAAP,EAAAQ,OAAAD,IACA,GAAAP,EAAAO,IAAAJ,EACA,OAAAhB,EAAAoB,IAIAE,WAlBA,WAmBA,OAAAd,KAAAe,OAAAC,MAAAF,aAGAG,SACAC,WADA,WAEYC,EAAA,EAAZD,WAAAlB,KAAAoB,aAEAA,WAJA,SAIAC,GAAA,IAAAC,EAAAtB,KAGAuB,EAAAF,EAAAG,MAAA,QACYC,OAAAC,EAAA,EAAAD,EAAZF,iBAAAI,KAAA,SAAAxC,GACAmC,EAAA5B,WAAAP,EACAmC,EAAA5B,WAAA6B,eACAK,SAAAzC,EAAA0C,cAAA,EACAP,EAAA/B,KAAA,OAAAJ,EAAA0C,YAAA,KAMAP,EAAA/B,KAAA,OAAA+B,EAAA1B,SAAA,OAGA0B,EAAAjC,QAAAuC,SAAAzC,EAAA0C,aACAP,EAAA9B,KAAAL,EAAA2C,UACAR,EAAAlC,gBAAA,KAGA2C,UA1BA,WA4BA/B,KAAAZ,gBAAA,EACAY,KAAAN,YACAsC,KAAA,QAEAhC,KAAAT,KAAA,QACAS,KAAAR,KAAAQ,KAAAI,WAKA6B,aAtCA,WAsCA,IAAAC,EAAAlC,KACAmC,EAAAP,SAAA5B,KAAAX,SACA,OAAA+C,MAAAD,IACAE,MAAA,UACA,GAEA,IAAArC,KAAAZ,kBAEA,IAAAY,KAAAZ,iBAAA+C,EAAA,EAGgBV,OAAAC,EAAA,EAAAD,EAChBF,aAAAvB,KAAAN,WAAA6B,aACAY,cACAxC,OAAAK,KAAAL,SACAgC,KAAA,SAAAxC,GACA+C,EAAA9C,gBAAA,EACA8C,EAAA5C,kBAAA,EACAgD,WAAA,WACAJ,EAAA5C,kBAAA,GACA,KACA4C,EAAAzC,UAAA0C,IAEA,IAAAnC,KAAAZ,iBAAA+C,EAAA,GAEgBV,OAAAC,EAAA,EAAAD,EAAhBU,cAAAxC,OAAAK,KAAAL,SAAAgC,KAAA,WACAO,EAAA9C,gBAAA,EACA8C,EAAA5C,kBAAA,EACAgD,WAAA,WACAJ,EAAA5C,kBAAA,GACA,KACA4C,EAAAzC,UAAA0C,IAGAnC,KAAAX,QAAA,QACAW,KAAAL,OAAA,MAEA4C,UA3EA,WA4EAvC,KAAAe,OAAAyB,OAAA,qBACAxC,KAAAZ,gBAAA,GAEAqD,OA/EA,WAgFAzC,KAAAZ,gBAAA,EACAY,KAAAX,QAAA,GACAW,KAAAL,OAAA,IAEAO,YApFA,WAoFA,IAAAwC,EAAA1C,KACYyB,OAAAC,EAAA,EAAAD,GAAZE,KAAA,SAAAxC,GACAuD,EAAAjD,SAAAN,EAAAE,aC3LesD,GADEC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,OAAAC,OAA0BC,IAAMC,EAAQ,WAA8BR,EAAAS,GAAA,KAAAN,EAAA,KAAsBE,YAAA,SAAmBL,EAAAS,GAAA,oBAAAT,EAAAS,GAAA,KAAAN,EAAA,QAAoDE,YAAA,QAAAK,IAAwBC,MAAAX,EAAA3B,cAAwB2B,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,QAA0CE,YAAA,QAAAK,IAAwBC,MAAAX,EAAAd,aAAuBc,EAAAS,GAAA,eAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA8CE,YAAA,eAAyBF,EAAA,KAAUE,YAAA,UAAoBL,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,MAAwCE,YAAA,WAAqBF,EAAA,MAAAA,EAAA,KAAAH,EAAAS,GAAA,SAAAN,EAAA,QAAAH,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAnD,WAAAsC,MAAA,SAAAa,EAAAS,GAAA,KAAAN,EAAA,MAAAA,EAAA,KAAAH,EAAAS,GAAA,UAAAN,EAAA,QAAAH,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAtD,MAAA,SAAAsD,EAAAS,GAAA,KAAAN,EAAA,MAAAA,EAAA,KAAAH,EAAAS,GAAA,UAAAN,EAAA,QAAiPU,aAAa1B,KAAA,OAAA2B,QAAA,SAAAC,MAAA,KAAAf,EAAArD,WAAAqE,IAAAhB,EAAArD,KAAAsE,WAAA,wCAAgIjB,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAkB,GAAA,cAAAlB,GAAArD,OAAA,IAAAqD,EAAAY,GAAAZ,EAAAkB,GAAA,cAAAlB,GAAArD,OAAA,SAAAqD,EAAAS,GAAA,KAAAN,EAAA,MAA2HE,YAAA,cAAwBF,EAAA,KAAAH,EAAAS,GAAA,UAAAN,EAAA,QAAAA,EAAA,SAAkDU,aAAa1B,KAAA,QAAA2B,QAAA,UAAAC,MAAAf,EAAA,QAAAiB,WAAA,YAAwEX,OAAS5D,KAAA,QAAcyE,UAAWJ,MAAAf,EAAA,SAAsBU,IAAKU,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCvB,EAAAxD,QAAA6E,EAAAC,OAAAP,WAAkCf,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,MAAuCE,YAAA,WAAqBL,EAAAwB,GAAA,GAAAxB,EAAAS,GAAA,KAAAN,EAAA,SAAoCU,aAAa1B,KAAA,QAAA2B,QAAA,UAAAC,MAAAf,EAAA,OAAAiB,WAAA,WAAsEX,OAASmB,YAAA,mBAAgCN,UAAWJ,MAAAf,EAAA,QAAqBU,IAAKU,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCvB,EAAAlD,OAAAuE,EAAAC,OAAAP,eAAiCf,EAAAS,GAAA,KAAAN,EAAA,OAA4BE,YAAA,YAAsBF,EAAA,QAAaO,IAAIC,MAAAX,EAAAJ,UAAoBI,EAAAS,GAAA,QAAAT,EAAAS,GAAA,KAAAN,EAAA,QAAwCE,YAAA,OAAAK,IAAuBC,MAAAX,EAAAZ,gBAA0BY,EAAAS,GAAA,YAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA2CE,YAAA,UAAoBF,EAAA,KAAAH,EAAAS,GAAA,eAAAT,EAAAS,GAAA,KAAAN,EAAA,KAAAH,EAAAS,GAAAT,EAAAY,GAAAZ,EAAApD,UAAA,UAAAoD,EAAAS,GAAA,KAAAN,EAAA,cAAuHG,OAAOnB,KAAA,UAAe,IAAAa,EAAAvD,kBAAA0D,EAAA,OAA0CE,YAAA,YAAsBL,EAAAS,GAAA,UAAAT,EAAA0B,OAAA1B,EAAAS,GAAA,KAAAN,EAAA,cAA2DG,OAAOnB,KAAA,UAAe,MAAAa,EAAA/B,WAAAkC,EAAA,OAAqCE,YAAA,OAAAK,IAAuBiB,UAAA,SAAAN,GAA6BA,EAAAO,qBAA2BzB,EAAA,OAAYE,YAAA,WAAqBF,EAAA,KAAUE,YAAA,UAAoBL,EAAAS,GAAA,UAAAT,EAAAS,GAAA,WAAAT,EAAA/B,WAAAkC,EAAA,KAAgEE,YAAA,WAAqBL,EAAAS,GAAA,eAAAT,EAAA0B,KAAA1B,EAAAS,GAAA,WAAAT,EAAA/B,WAAAkC,EAAA,KAA8EE,YAAA,WAAqBL,EAAAS,GAAA,aAAAT,EAAA0B,KAAA1B,EAAAS,GAAA,WAAAT,EAAA/B,YAAA,MAAA+B,EAAA/B,WAAAkC,EAAA,OAAwGE,YAAA,gBAA0BF,EAAA,KAAAH,EAAAS,GAAA,cAAAT,EAAAS,GAAA,KAAAN,EAAA,QAAAH,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAnD,WAAAgF,eAAA7B,EAAAS,GAAA,KAAAN,EAAA,QAAAH,EAAAS,GAAAT,EAAAY,GAAAZ,EAAAkB,GAAA,cAAAlB,GAAArD,OAAA,IAAAqD,EAAAY,GAAAZ,EAAAkB,GAAA,cAAAlB,GAAArD,OAAA,SAAAqD,EAAA0B,KAAA1B,EAAAS,GAAA,KAAAN,EAAA,QAA6PE,YAAA,OAAAK,IAAuBC,MAAAX,EAAAN,aAAuBM,EAAAS,GAAA,YAAAT,EAAA0B,QAAA,IAEtgGI,iBADjB,WAAoC,IAAa7B,EAAb9C,KAAa+C,eAA0BC,EAAvChD,KAAuCiD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAA/DhD,KAA+DsD,GAAA,MAAAN,EAAA,QAA/DhD,KAA+DsD,GAAA,eCEnG,IAcAsB,EAdyBvB,EAAQ,OAcjCwB,CACE3F,EACAyD,GATF,EAVA,SAAAmC,GACEzB,EAAQ,SAaV,KAEA,MAUe0B,EAAA,QAAAH,EAAiB","file":"static/js/3.3a9046ece091580ac774.js","sourcesContent":["<template>\r\n    <div class=\"scanPage\">\r\n        <img class=\"logo\" src=\"../assets/images/logo.png\">\r\n        <p class=\"name\">珠三角工匠精神展示馆验票系统</p>\r\n        <!--<p>{{scanStatus}}</p>-->\r\n        <span class=\"btn_2\" @click=\"scanQrCode\">点击扫码</span>\r\n        <span class=\"btn_2\" @click=\"manualAdd\">手动添加未预约人数</span>\r\n        <div class=\"ticketInfo\">\r\n            <p class=\"title\">门票信息</p>\r\n            <ul class=\"detail\">\r\n                <li><p>联系人</p><span>{{ticketInfo.name || ''}}</span></li>\r\n                <li><p>预约种类</p><span>{{type || ''}}</span></li>\r\n                <li><p>进馆时间</p><span\r\n                    v-show=\"time !== '' && time !== undefined\">{{time | formatDate1}}（{{time | formatDate2}}）</span>\r\n                </li>\r\n                <li class=\"actualNum\"><p>实际人数</p><span><input type=\"text\" v-model=\"realNum\">人</span></li>\r\n                <li class=\"remark\">\r\n                    <p>备注<span>（选填）</span></p>\r\n                    <input placeholder=\"填写未预约人或票数差异大的原因\" v-model=\"remark\">\r\n                </li>\r\n            </ul>\r\n            <div class=\"confirm\">\r\n                <span @click=\"cancel\">取消</span>\r\n                <span class=\"sure\" @click=\"verification\">核销</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"total\"><p>今天实际到场人数：</p>\r\n            <p>{{visitNum}} 人</p></div>\r\n        <transition name=\"fade\">\r\n            <div class=\"success\" v-if=\"verificationState === 1\">核销成功</div>\r\n        </transition>\r\n        <transition name=\"fade\">\r\n            <div class=\"mark\" v-if=\"scanStatus !== 300\" @touchmove.prevent>\r\n                <div class=\"failed\">\r\n                    <p class=\"title\">核销失败</p>\r\n                    <p class=\"reason\" v-if=\"scanStatus === 705\">该票已经核销过了。</p>\r\n                    <p class=\"reason\" v-if=\"scanStatus === 707\">该票已经退票。</p>\r\n                    <div class=\"reason time\" v-if=\"scanStatus === 704 || scanStatus === 706\">\r\n                        <p>该票进场时间为：</p>\r\n                        <span>{{ticketInfo.ticketTime}}</span>\r\n                        <span>{{time | formatDate1}}（{{time | formatDate2}}）</span>\r\n                    </div>\r\n                    <span class=\"sure\" @click=\"sureError\">确认</span>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import wechat from '../js/wechat'\r\n    import { getVisitNum, changeTicket, addRealPeople, getTicketScanInfo } from '../js/sendRequest'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                ticketInfoState: 0, // 门票信息状态 0空  1扫一扫成功返回数据  2手动添加未预约人数\r\n                realNum: '',\r\n                verificationState: 0, // 核销成功状态\r\n                type: '',\r\n                time: '',\r\n                visitNum: 0,\r\n                ticketInfo: {},\r\n                remark: '',\r\n//                specList: ['5 - 9 人', '10 - 20 人', '21 - 30 人', '31 - 40 人', '41 - 50 人'],\r\n                specList: ['20 - 50 人'],\r\n                timeList: ['9:30-10:30', '10:30-11:30', '14:00-15:00', '15:00-16:00', '16:00-17:00', '上午', '下午']\r\n            }\r\n        },\r\n        watch: {\r\n            ticketInfoState (val) {\r\n                if (val === 0) {\r\n                    this.ticketInfo = {}\r\n                    this.type = ''\r\n                    this.time = ''\r\n                    this.realNum = ''\r\n                }\r\n            }\r\n        },\r\n        created () {\r\n            this.getVisitNum()\r\n        },\r\n        computed: {\r\n            judgeTime () {  // 判断时间段\r\n                let time = ['9:30-10:30', '10:30-11:30', '14:00-15:00', '15:00-16:00', '16:00-17:00', '17:00-18:00']\r\n                let date = []\r\n                let dateStamp = new Date()\r\n                let now = dateStamp.getTime()\r\n                date.push(dateStamp.setHours(10, 30, 0, 0))\r\n                date.push(dateStamp.setHours(11, 30, 0, 0))\r\n                date.push(dateStamp.setHours(15, 0, 0, 0))\r\n                date.push(dateStamp.setHours(16, 0, 0, 0))\r\n                date.push(dateStamp.setHours(17, 0, 0, 0))\r\n                date.push(dateStamp.setHours(18, 0, 0, 0))\r\n                for (let i = 0; i < date.length; i++) {\r\n                    if (date[i] >= now) {\r\n                        return time[i]\r\n                    }\r\n                }\r\n            },\r\n            scanStatus () {\r\n                return this.$store.state.scanStatus // 705已核销 704 706已过期或未到时间 707已退票\r\n            }\r\n        },\r\n        methods: {\r\n            scanQrCode () {\r\n                wechat.scanQrCode(this.qrCodeInfo)\r\n            },\r\n            qrCodeInfo (code) {\r\n//                http://nfrb.ydcycloud.com/nfrb/dist/index.html#/shortcut?id=97$ticketNumber=20180123380@contactName=huolik1@type=2@entryTime=2@ticketTime=18-01-24@count=2\r\n//                let code = 'ticketNumber=20180123380@contactName=huolik1@type=2@entryTime=2@ticketTime=2018-01-24@count=2'\r\n                let ticketNumber = code.split('=')[1]\r\n                getTicketScanInfo({ticketNumber: ticketNumber}).then((data) => {\r\n                    this.ticketInfo = data\r\n                    this.ticketInfo.ticketNumber = ticketNumber\r\n                    if (parseInt(data.personCount) <= 5) {\r\n                        this.type = '个人票（' + data.personCount + '人）'\r\n                    } else {\r\n//                        if (parseInt(data.personCount) <= 10) {\r\n//                            this.type = '团体票（' + this.specList[0] + '）'\r\n//                        } else {\r\n//                            this.type = '团体票（' + this.specList[parseInt((parseInt(data.personCount) / 10) - 1)] + '）'\r\n                        this.type = '团体票（' + this.specList[0] + '）'\r\n//                        }\r\n                    }\r\n                    this.realNum = parseInt(data.personCount)\r\n                    this.time = data.entryTime\r\n                    this.ticketInfoState = 1\r\n                })\r\n            },\r\n            manualAdd () {\r\n//                if (this.judgeTime) {\r\n                this.ticketInfoState = 2\r\n                this.ticketInfo = {\r\n                    name: '未预约人'\r\n                }\r\n                this.type = '未预约票种'\r\n                this.time = this.judgeTime\r\n//                } else {\r\n//                    alert('不在工作时间段')\r\n//                }\r\n            },\r\n            verification () {\r\n                let peopleCount = parseInt(this.realNum)\r\n                if (isNaN(peopleCount)) {\r\n                    alert('请输入数字')\r\n                    return false\r\n                }\r\n                if (this.ticketInfoState === 0) {\r\n                    return false\r\n                } else if (this.ticketInfoState === 1 && peopleCount > 0) {\r\n                    // 核销扫一扫\r\n//                    alert(this.ticketInfo.ticketNumber + '--' + peopleCount + '--' + this.remark)\r\n                    changeTicket({\r\n                        ticketNumber: this.ticketInfo.ticketNumber,\r\n                        peopleCount: peopleCount,\r\n                        remark: this.remark\r\n                    }).then((data) => {\r\n                        this.ticketInfoState = 0\r\n                        this.verificationState = 1\r\n                        setTimeout(() => {\r\n                            this.verificationState = 0\r\n                        }, 1000)\r\n                        this.visitNum += peopleCount\r\n                    })\r\n                } else if (this.ticketInfoState === 2 && peopleCount > 0) {\r\n                    // 核销手动添加\r\n                    addRealPeople({peopleCount: peopleCount, remark: this.remark}).then(() => {\r\n                        this.ticketInfoState = 0\r\n                        this.verificationState = 1\r\n                        setTimeout(() => {\r\n                            this.verificationState = 0\r\n                        }, 1000)\r\n                        this.visitNum += peopleCount\r\n                    })\r\n                }\r\n                this.realNum = ''\r\n                this.remark = ''\r\n            },\r\n            sureError () {\r\n                this.$store.commit('setScanStatus', 300)\r\n                this.ticketInfoState = 0\r\n            },\r\n            cancel () {\r\n                this.ticketInfoState = 0\r\n                this.realNum = ''\r\n                this.remark = ''\r\n            },\r\n            getVisitNum () {\r\n                getVisitNum().then((data) => {\r\n                    this.visitNum = data.realNum\r\n                })\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    @import \"../css/_base.scss\";\r\n\r\n    .scanPage {\r\n        height: calc(100% - 1.1rem);\r\n        position: relative;\r\n        color: #353535;\r\n        padding-top: 1.1rem;\r\n        .logo {\r\n            display: block;\r\n            margin: 0 auto 1.5rem;\r\n            width: 5rem;\r\n            height: 5rem;\r\n        }\r\n        .name {\r\n            text-align: center;\r\n            font-size: 1.5rem;\r\n            color: #c22d27;\r\n            font-weight: bold;\r\n        }\r\n        .btn_2 {\r\n            margin-top: 1.3rem;\r\n        }\r\n        .ticketInfo {\r\n            width: 23rem;\r\n            margin: 1.8rem auto 0;\r\n            background: #ffffff;\r\n            .title {\r\n                width: 100%;\r\n                height: 4rem;\r\n                line-height: 4rem;\r\n                font-size: 1.2rem;\r\n                text-align: center;\r\n                font-weight: bold;\r\n            }\r\n            .detail {\r\n                width: 20rem;\r\n                margin: 0 auto;\r\n                border-bottom: 1px solid #e8e8e8;\r\n                li {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    margin-bottom: 1.5rem;\r\n                    p {\r\n                        font-size: 1.2rem;\r\n                        font-weight: bold;\r\n                    }\r\n                    span {\r\n                        font-size: 1.2rem;\r\n                        color: #8e8e8e;\r\n                        font-weight: bold;\r\n                    }\r\n                }\r\n                .actualNum {\r\n                    span {\r\n                        color: #353535;\r\n                        margin-top: -0.7rem;\r\n                        input {\r\n                            width: 5.2rem;\r\n                            height: 2.6rem;\r\n                            border: 1px solid #e8e8e8;\r\n                            box-shadow: 0 -0.1rem 0.2rem #b5b5b5;\r\n                            text-align: center;\r\n                            margin-right: 0.5rem;\r\n                        }\r\n                    }\r\n                }\r\n                .remark {\r\n                    margin-top: -0.7rem;\r\n                    flex-direction: column;\r\n                    margin-bottom: 1rem;\r\n                    & > span {\r\n                        font-weight: normal;\r\n                    }\r\n                    & > input {\r\n                        text-indent: 0.7rem;\r\n                        width: 20rem;\r\n                        height: 2.5rem;\r\n                        line-height: 2.5rem;\r\n                        text-align: left;\r\n                        margin-top: 1rem;\r\n                        border: 1px solid #e8e8e8;\r\n                        box-shadow: 0 -0.1rem 0.2rem #b5b5b5;\r\n                        &::-webkit-input-placeholder {\r\n                            font-size: 1.2rem;\r\n                            color: #8e8e8e;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            .confirm {\r\n                width: 20rem;\r\n                padding: 0.9rem 0;\r\n                font-size: 1.2rem;\r\n                font-weight: bold;\r\n                margin: 0 auto;\r\n                span {\r\n                    display: inline-block;\r\n                    width: 9.7rem;\r\n                    height: 1.8rem;\r\n                    line-height: 1.8rem;\r\n                    text-align: center;\r\n                }\r\n                .sure {\r\n                    color: #c22d27;\r\n                    border-left: 1px solid #e8e8e8;\r\n                }\r\n            }\r\n        }\r\n        .total {\r\n            width: 20.5rem;\r\n            height: 3rem;\r\n            background: $bgc;\r\n            border-radius: 10rem;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            margin: 1rem auto 0;\r\n            padding: 0 1.25rem;\r\n            box-shadow: 0 -0.1rem 0.2rem #b5b5b5;\r\n            p {\r\n                font-size: 1.2rem;\r\n                font-weight: bold;\r\n            }\r\n        }\r\n        .success {\r\n            width: 20rem;\r\n            height: 7rem;\r\n            background: rgba(0, 0, 0, .4);\r\n            line-height: 7rem;\r\n            text-align: center;\r\n            color: #ffffff;\r\n            font-size: 1.8rem;\r\n            position: absolute;\r\n            top: 37%;\r\n            left: calc(50% - 10rem);\r\n        }\r\n        .failed {\r\n            width: 20rem;\r\n            background: #ffffff;\r\n            margin: 17.5rem auto;\r\n            .title {\r\n                width: 100%;\r\n                height: 4rem;\r\n                line-height: 4rem;\r\n                font-size: 1.3rem;\r\n                text-align: center;\r\n            }\r\n            .reason {\r\n                width: 17rem;\r\n                text-align: center;\r\n                font-size: 1.2rem;\r\n                color: #8e8e8e;\r\n                padding-bottom: 1.5rem;\r\n                border-bottom: 1px solid #e8e8e8;\r\n                margin: 0 auto;\r\n            }\r\n            .sure {\r\n                display: block;\r\n                width: 100%;\r\n                height: 3.5rem;\r\n                line-height: 3.5rem;\r\n                text-align: center;\r\n                font-size: 1.2rem;\r\n                color: #c22d27;\r\n            }\r\n            .time {\r\n                p {\r\n                    text-align: left;\r\n                }\r\n                span {\r\n                    display: block;\r\n                    color: #353535;\r\n                    margin-top: 1rem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/scan.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scanPage\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../assets/images/logo.png\")}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(\"珠三角工匠精神展示馆验票系统\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn_2\",on:{\"click\":_vm.scanQrCode}},[_vm._v(\"点击扫码\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn_2\",on:{\"click\":_vm.manualAdd}},[_vm._v(\"手动添加未预约人数\")]),_vm._v(\" \"),_c('div',{staticClass:\"ticketInfo\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"门票信息\")]),_vm._v(\" \"),_c('ul',{staticClass:\"detail\"},[_c('li',[_c('p',[_vm._v(\"联系人\")]),_c('span',[_vm._v(_vm._s(_vm.ticketInfo.name || ''))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"预约种类\")]),_c('span',[_vm._v(_vm._s(_vm.type || ''))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"进馆时间\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.time !== '' && _vm.time !== undefined),expression:\"time !== '' && time !== undefined\"}]},[_vm._v(_vm._s(_vm._f(\"formatDate1\")(_vm.time))+\"（\"+_vm._s(_vm._f(\"formatDate2\")(_vm.time))+\"）\")])]),_vm._v(\" \"),_c('li',{staticClass:\"actualNum\"},[_c('p',[_vm._v(\"实际人数\")]),_c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.realNum),expression:\"realNum\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.realNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.realNum=$event.target.value}}}),_vm._v(\"人\")])]),_vm._v(\" \"),_c('li',{staticClass:\"remark\"},[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remark),expression:\"remark\"}],attrs:{\"placeholder\":\"填写未预约人或票数差异大的原因\"},domProps:{\"value\":(_vm.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.remark=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"confirm\"},[_c('span',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('span',{staticClass:\"sure\",on:{\"click\":_vm.verification}},[_vm._v(\"核销\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"total\"},[_c('p',[_vm._v(\"今天实际到场人数：\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.visitNum)+\" 人\")])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.verificationState === 1)?_c('div',{staticClass:\"success\"},[_vm._v(\"核销成功\")]):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.scanStatus !== 300)?_c('div',{staticClass:\"mark\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"failed\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"核销失败\")]),_vm._v(\" \"),(_vm.scanStatus === 705)?_c('p',{staticClass:\"reason\"},[_vm._v(\"该票已经核销过了。\")]):_vm._e(),_vm._v(\" \"),(_vm.scanStatus === 707)?_c('p',{staticClass:\"reason\"},[_vm._v(\"该票已经退票。\")]):_vm._e(),_vm._v(\" \"),(_vm.scanStatus === 704 || _vm.scanStatus === 706)?_c('div',{staticClass:\"reason time\"},[_c('p',[_vm._v(\"该票进场时间为：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.ticketInfo.ticketTime))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"formatDate1\")(_vm.time))+\"（\"+_vm._s(_vm._f(\"formatDate2\")(_vm.time))+\"）\")])]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"sure\",on:{\"click\":_vm.sureError}},[_vm._v(\"确认\")])])]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"备注\"),_c('span',[_vm._v(\"（选填）\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-f1324734\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/scan.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f1324734\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./scan.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./scan.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./scan.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f1324734\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./scan.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/scan.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}